C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE TM1629
OBJECT MODULE PLACED IN tm1629.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Receiver\tm1629.c LARGE BROWSE INCDIR(.\Receiver) DEBUG OBJECTEXTEND PRINT(
                    -.\tm1629.lst) OBJECT(tm1629.obj)

line level    source

   1          #include "tm1629.h"
   2          #include "timer.h"
   3          #include "usart.h"
   4          #include "ds1302.h"
   5          #include "key.h"
   6          #include "menu.h"
   7          #include "gd5800.h"
   8          #include "at24c256.h"
   9          #include "ev1527.h"
  10          #include "decoder.h"
  11          
  12          unsigned char const CODE[] = { 0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F, 0x77, 0x7C, 0x3
             -9, 0x5E, 0x79, 0x71, 0x76, 0x38, 0x5c, 0x73, 0x3e };//0-9 abcdef ÏÔÊ¾Æ÷ÂëÊý×é
  13          unsigned char const INIT_CODE[] = { 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80 };//Öð¶ÎµãÁÁÊýÂë¹ÜÊý×é
  14          unsigned char const SHANGSHUO[] = { 0x40, 0x00 }; // µãÁÁÊýÂë¹ÜÖÐ¼ä¶ÎÒÔ¼°Ãð
  15          unsigned char buf_display[6][8] = { 0 }; //3¸öTM1629ÏÔ´æÊý×é
  16          unsigned char display_ram[800] = { 0 }; //³ÌÐòÔËÐÐÊ±¼ÇÂ¼ÏÔÊ¾Êý¾ÝµÄÄÚ´æ 
  17          unsigned char await_time_table= 0 ;//ÓÃÓÚ¼ÇÂ¼´ý»úÏÔÊ¾ºá¸ÜÊýÂë¹Ü´ÎÊý 
  18          unsigned char Two_Menu_F8_E1_save =0;
  19          
  20          unsigned char single_key[16]   = { 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
             - 0x01, 0x01, 0x01, 0x01 };//µ¥¼üÎ»ÉèÖÃ´æ´¢Êý×é
  21          unsigned char multiple_key[16] = { 0x01, QUXIAO-QUXIAO, JIEZHANG-QUXIAO, DIANDANG-QUXIAO, JIUSHUI-QUXIAO, 
             -0X01, 0x01, JIASHUI-QUXIAO, HUJIAO - QUXIAO, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01 };//¶à¼üÎ»ÉèÖÃ´æ´¢Êý×é
  22          
  23          void writeDataTo1629(unsigned char p) //Ð´Êý¾Ý¸øµÚÒ»¸öTM1629
  24          {
  25   1              unsigned int i;
  26   1              TM1629_STB = 0;
  27   1              for (i = 0; i<8; i++)
  28   1              {
  29   2                      TM1629_CLK = 0;
  30   2                      if (p & 0x01)
  31   2                              TM1629_DIO = 1;
  32   2                      else
  33   2                              TM1629_DIO = 0;
  34   2                      _nop_();
  35   2                      _nop_();
  36   2                      _nop_();
  37   2                      _nop_();
  38   2                      TM1629_CLK = 1;
  39   2                      p = p >> 1;
  40   2              }
  41   1              TM1629_CLK = 0;
  42   1              TM1629_DIO = 0;
  43   1      }
  44          
  45          void writeDataTo1629_2(unsigned char p) //Ð´Êý¾Ý¸øµÚ¶þ¸öTM1629
  46          {
  47   1              unsigned int i;
  48   1              TM1629_STB2 = 0;
  49   1              for (i = 0; i<8; i++)
  50   1              {
  51   2                      TM1629_CLK = 0;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 2   

  52   2                      if (p & 0x01)
  53   2                              TM1629_DIO = 1;
  54   2                      else
  55   2                              TM1629_DIO = 0;
  56   2                      _nop_();
  57   2                      _nop_();
  58   2                      _nop_();
  59   2                      _nop_();
  60   2                      TM1629_CLK = 1;
  61   2                      p = p >> 1;
  62   2              }
  63   1              TM1629_CLK = 0;
  64   1              TM1629_DIO = 0;
  65   1      }
  66          
  67          void writeDataTo1629_3(unsigned char p) //Ð´Êý¾Ý¸øµÚÈý¸öTM1629
  68          {
  69   1              unsigned int i;
  70   1              TM1629_STB3 = 0;
  71   1              for (i = 0; i<8; i++)
  72   1              {
  73   2                      TM1629_CLK = 0;
  74   2                      if (p & 0x01)
  75   2                              TM1629_DIO = 1;
  76   2                      else
  77   2                              TM1629_DIO = 0;
  78   2                      _nop_();
  79   2                      _nop_();
  80   2                      _nop_();
  81   2                      _nop_();
  82   2                      TM1629_CLK = 1;
  83   2                      p = p >> 1;
  84   2              }
  85   1              TM1629_CLK = 0;
  86   1              TM1629_DIO = 0;
  87   1      }
  88          
  89          void send_command(unsigned char word) //Ð´ÃüÁî¸øµÚÒ»¸öTM1629
  90          {
  91   1              TM1629_STB = 1;
  92   1              nop;
  93   1              TM1629_STB = 0;
  94   1              writeDataTo1629(word);
  95   1      }
  96          
  97          void send_command_2(unsigned char word) //Ð´ÃüÁî¸øµÚ¶þ¸öTM1629
  98          {
  99   1              TM1629_STB2 = 1;
 100   1              nop;
 101   1              TM1629_STB2 = 0;
 102   1              writeDataTo1629_2(word);
 103   1      }
 104          
 105          void send_command_3(unsigned char word) //Ð´ÃüÁî¸øµÚÈý¸öTM1629
 106          {
 107   1              TM1629_STB3 = 1;
 108   1              nop;
 109   1              TM1629_STB3 = 0;
 110   1              writeDataTo1629_3(word);
 111   1      }
 112          
 113          void display(void) //3¸öTM1629ÏÔÊ¾º¯Êý
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 3   

 114          {
 115   1              unsigned char i,temp;
 116   1              temp = return_Two_Menu_F6_E5();
 117   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 118   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 119   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 120   1              {
 121   2                      writeDataTo1629(buf_display[0][i]);
 122   2                      writeDataTo1629(buf_display[1][i]);
 123   2              }
 124   1              send_command(0x88 + temp);      //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 125   1              TM1629_STB = 1;
 126   1      
 127   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 128   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 129   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 130   1              {
 131   2                      writeDataTo1629_2(buf_display[2][i]);
 132   2                      writeDataTo1629_2(buf_display[3][i]);
 133   2              }
 134   1              send_command_2(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 135   1              TM1629_STB2 = 1;
 136   1      
 137   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 138   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 139   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 140   1              {
 141   2                      writeDataTo1629_3(buf_display[4][i]);
 142   2                      writeDataTo1629_3(buf_display[5][i]);
 143   2              }
 144   1              send_command_3(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 145   1              TM1629_STB3 = 1;
 146   1      }
 147          
 148          void display_light(unsigned char temp) //3¸öTM1629ÏÔÊ¾º¯Êý
 149          {
 150   1              unsigned char i;
 151   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 152   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 153   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 154   1              {
 155   2                      writeDataTo1629(temp);
 156   2                      writeDataTo1629(temp);
 157   2              }
 158   1              send_command(0x8f);     //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 159   1              TM1629_STB = 1;
 160   1      
 161   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 162   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 163   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 164   1              {
 165   2                      writeDataTo1629_2(temp);
 166   2                      writeDataTo1629_2(temp);
 167   2              }
 168   1              send_command_2(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 169   1              TM1629_STB2 = 1;
 170   1      
 171   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 172   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 173   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 174   1              {
 175   2                      writeDataTo1629_3(temp);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 4   

 176   2                      writeDataTo1629_3(temp);
 177   2              }
 178   1              send_command_3(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 179   1              TM1629_STB3 = 1;
 180   1      }
 181          
 182          void tm1629_init(void) //TM1629¿ª»ú³õÊ¼»¯º¯Êý
 183          {
 184   1              unsigned char i, j, k;          //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
 185   1              for (k = 0; k<8; k++)
 186   1              {
 187   2                      for (i = 0; i<6; i++)
 188   2                      {
 189   3                              for (j = 0; j<8; j++)
 190   3                              {
 191   4                                      buf_display[i][j] = INIT_CODE[k];
 192   4                              }
 193   3                      }
 194   2                      display();
 195   2                      if (k == 1 )
 196   2                      GD5800_select_chapter(CHUSHIHUA);
 197   2                      Tm1629_delay(30);
 198   2              }
 199   1      }
 200          
 201          
 202          void Tm1629_delay(unsigned char k) //ÑÓÊ±º¯Êý
 203          {
 204   1              unsigned char i, j;
 205   1              for (; k>0; k--)
 206   1              {
 207   2                      for (i = 255; i>0; i--)
 208   2                      {
 209   3                              for (j = 255; j>0; j--)
 210   3                              {
 211   4                                      ;
 212   4      
 213   4                              }
 214   3                      }
 215   2              }
 216   1      }
 217          
 218          void tm1629_clear(void)//È«²¿¹éÁã
 219          {
 220   1              unsigned char i, j;
 221   1              for (i = 0; i<6; i++)
 222   1              {
 223   2                      for (j = 0; j<8; j++)
 224   2                      {
 225   3                              buf_display[i][j] = 0x00;
 226   3                      }
 227   2              }
 228   1      }
 229          
 230          void tm1629_display_buff_clear(void)//Çå³ý¶ÓÁÐ»º´æ
 231          {
 232   1              unsigned char i;
 233   1              for (i = 0; i<120; i++)
 234   1                      display_ram[i] = 0;
 235   1      }
 236          
 237          void tm1629_await(void)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 5   

 238          {
 239   1              unsigned char i;        //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
 240   1              unsigned char await_number_table_temp = 0;
 241   1              await_number_table_temp = return_await_number_table();
 242   1              if (await_number_table_temp == 1)
 243   1              {
 244   2                      //GD5800_select_chapter(0x0008) ;
 245   2                      tm1629_clear();
 246   2                      i = await_time_table & 0x03;
 247   2                      buf_display[0][i] = 0x40;
 248   2                      display();
 249   2                      set_await_number_table(0);
 250   2                      await_time_table++;
 251   2                      if (await_time_table == 4)
 252   2                              await_time_table = 0;
 253   2              }
 254   1      }
 255          
 256          void Display_time(void)
 257          {
 258   1              tm1629_clear();
 259   1              Ds1302_Read_Time(); 
 260   1              buf_display[1][3] = CODE[2];                            //Äê
 261   1              buf_display[1][2] = CODE[0];
 262   1              buf_display[1][1] = CODE[time_buf1[1] / 10];
 263   1              buf_display[1][0] = CODE[time_buf1[1] % 10];
 264   1      
 265   1              
 266   1              buf_display[0][7] = CODE[time_buf1[2] / 10]; //ÔÂ
 267   1              buf_display[0][6] = CODE[time_buf1[2] % 10];
 268   1      
 269   1      
 270   1              buf_display[0][5] = CODE[time_buf1[3] / 10];
 271   1              buf_display[0][4] = CODE[time_buf1[3] % 10];//ÈÕ
 272   1      
 273   1              buf_display[1][4] = CODE[time_buf1[7]];         //ÐÇÆÚ
 274   1      
 275   1              buf_display[0][3] = CODE[time_buf1[4] / 10]; //Ð¡Ê±
 276   1              buf_display[0][2] = CODE[time_buf1[4] % 10];
 277   1              buf_display[0][1] = CODE[time_buf1[5] / 10]; //Ð¡Ê±
 278   1              buf_display[0][0] = CODE[time_buf1[5] % 10];
 279   1      
 280   1              display();
 281   1      
 282   1      }
 283          
 284          void tm1629_f(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 285          {
 286   1              tm1629_clear();
 287   1              buf_display[0][1] = CODE[0x0f];
 288   1              buf_display[0][0] = CODE[f_number];
 289   1              display();
 290   1      }
 291          
 292          void tm1629_E(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 293          {
 294   1              tm1629_clear();
 295   1              buf_display[0][1] = CODE[0x0E];
 296   1              buf_display[0][0] = CODE[f_number];
 297   1              display();
 298   1      }
 299          void Show_on(void)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 6   

 300          {
 301   1              tm1629_clear();
 302   1              buf_display[0][1] = CODE[0];
 303   1              buf_display[0][0] = 0x37;
 304   1              display();
 305   1      }
 306          
 307          void Show_off(void)
 308          {
 309   1              tm1629_clear();
 310   1              buf_display[0][1] = CODE[0x00];
 311   1              buf_display[0][0] = CODE[0x0f];
 312   1              display();
 313   1      }
 314          
 315          void Show_one_number(unsigned char f_number) //ÏÔÊ¾Ò»¸öÊý×Ö
 316          {
 317   1              tm1629_clear();
 318   1              //buf_display[0][1] = CODE[0x0E];
 319   1              buf_display[0][0] = CODE[f_number];
 320   1              display();
 321   1      }
 322          
 323          void Show_two_number(unsigned char f_number) //ÏÔÊ¾Á½¸öÊý×Ö
 324          {
 325   1              tm1629_clear();
 326   1              buf_display[0][1] = CODE[f_number / 10];
 327   1              buf_display[0][0] = CODE[f_number % 10];
 328   1              display();
 329   1      }
 330          
 331          
 332          void Show_three_number(unsigned int f_number) //ÏÔÊ¾Èý¸öÊý×Ö
 333          {
 334   1              tm1629_clear();
 335   1              buf_display[0][2] = CODE[f_number / 100];
 336   1              buf_display[0][1] = CODE[(f_number / 10) %10];
 337   1              buf_display[0][0] = CODE[f_number % 10];
 338   1              display();
 339   1      }
 340          
 341          void Show_four_number(unsigned char* temp)
 342          {
 343   1              tm1629_clear();
 344   1              buf_display[0][3] = CODE[*(temp)];
 345   1              buf_display[0][2] = CODE[*(temp+1)];
 346   1              buf_display[0][1] = CODE[*(temp+2)];
 347   1              buf_display[0][0] = CODE[*(temp+3)];
 348   1              display();
 349   1      }
 350          
 351          void tm1629_load(void)
 352          {
 353   1              tm1629_clear();
 354   1              if (*(display_ram + 88) != 0)
 355   1                      mcuram_to_displayram(buf_display[5] + 7, display_ram + 88);
 356   1              if (*(display_ram + 80) != 0)
 357   1                      mcuram_to_displayram(buf_display[5] + 3, display_ram + 80);
 358   1              if (*(display_ram + 72) != 0)
 359   1                      mcuram_to_displayram(buf_display[4] + 7, display_ram + 72);
 360   1              if (*(display_ram + 64) != 0)
 361   1                      mcuram_to_displayram(buf_display[4] + 3, display_ram + 64);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 7   

 362   1              if (*(display_ram + 56) != 0)
 363   1                      mcuram_to_displayram(buf_display[3] + 7, display_ram + 56);
 364   1              if (*(display_ram + 48) != 0)
 365   1                      mcuram_to_displayram(buf_display[3] + 3, display_ram + 48);
 366   1              if (*(display_ram + 40) != 0)
 367   1                      mcuram_to_displayram(buf_display[2] + 7, display_ram + 40);
 368   1              if (*(display_ram + 32) != 0)
 369   1                      mcuram_to_displayram(buf_display[2] + 3, display_ram + 32);
 370   1              if (*(display_ram + 24) != 0)
 371   1                      mcuram_to_displayram(buf_display[1] + 7, display_ram + 24);
 372   1              if (*(display_ram + 16) != 0)
 373   1                      mcuram_to_displayram(buf_display[1] + 3, display_ram + 16);
 374   1              if (*(display_ram + 8) != 0)
 375   1                      mcuram_to_displayram(buf_display[0] + 7, display_ram + 8);
 376   1              if (*(display_ram + 0) != 0)
 377   1                      mcuram_to_displayram(buf_display[0] + 3, display_ram);
 378   1      
 379   1              //buf_display[0][5] = CODE[decoder_num / 10];
 380   1              //buf_display[0][4] = CODE[decoder_num % 10];
 381   1      }
 382          
 383          void mcuram_to_displayram(unsigned char a[48], unsigned char* b)  //´ÓRAMÇøÓòÒÆµ½ÏÔ´æÇøÓò,Ë³´ø·­Òë³ÉÊýÂë¹Ü
             -ÏÔÊ¾µÄÂë
 384          {
 385   1              /*
 386   1              A// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 387   1              B// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 388   1              */
 389   1              *(a) = CODE[*(b + 1)];
 390   1              *(a - 1) = CODE[*(b + 2)];
 391   1              *(a - 2) = CODE[*(b + 3)];
 392   1              *(a - 3) = CODE[*(b + 4)];
 393   1      
 394   1              switch (*(b + 5) & 0x0f)//ÏÔÊ¾ºô½ÐÀàÐÍ
 395   1              {
 396   2              case 2:
 397   2                      *(a - 3) |= 0x80;
 398   2                      *(a - 2) |= 0x80;
 399   2      
 400   2                      break;//7¼ü
 401   2              case 3:
 402   2                      *(a - 3) |= 0x80;
 403   2                      *(a - 2) |= 0x80;
 404   2                      *(a - 1) |= 0x80;
 405   2                      *(a) |= 0x80;
 406   2                      break;//78¼ü
 407   2              case 4:
 408   2                      *(a - 3) |= 0x80;
 409   2                      *(a - 2) |= 0x80;
 410   2                      *(a - 1) |= 0x80;
 411   2                      break;//6¼ü
 412   2              case 7:
 413   2                      *(a - 2) |= 0x80;
 414   2                      break;//678¼ü
 415   2              case 8:
 416   2                      *(a - 3) |= 0x80;
 417   2                      break;//5¼ü
 418   2              default:break;
 419   2              }
 420   1      
 421   1      
 422   1      }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 8   

 423          
 424          void decoder_temp_to_mcuram(unsigned char* a, unsigned char* index)//aÎªMCU»º´æÇø   indexÎª½âÂëºóÈ¡³öµÄ8×Ö
             -½ÚÁÙÊ±Êý×é
 425          {
 426   1              *(a + 0) = *(index);
 427   1              *(a + 1) = *(index + 1);
 428   1              *(a + 2) = *(index + 2);
 429   1              *(a + 3) = *(index + 3);
 430   1              *(a + 4) = *(index + 4);
 431   1              *(a + 5) = *(index + 7);//±£´æ°´¼üµÄ¼üÖµ
 432   1      }
 433          
 434          void mcuram_to_mcuram_down(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÏÂÑ¹Ò»×éÊý¾Ý
 435          {
 436   1              *(a + 8) = *(a);                //ramÇøÔªËØÏÂÒÆ6¸ö
 437   1              *(a + 9) = *(a + 1);
 438   1              *(a + 10) = *(a + 2);
 439   1              *(a + 11) = *(a + 3);
 440   1              *(a + 12) = *(a + 4);
 441   1              *(a + 13) = *(a + 5);
 442   1      
 443   1      }
 444          
 445          void mcuram_to_mcuram_up(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÉÏÑ¹Ò»×éÊý¾Ý
 446          {
 447   1              *(a) = *(a + 8);   //ramÇøÔªËØÉÏÒÆ6¸ö
 448   1              *(a + 1) = *(a + 9);
 449   1              *(a + 2) = *(a + 10);
 450   1              *(a + 3) = *(a + 11);
 451   1              *(a + 4) = *(a + 12);
 452   1              *(a + 5) = *(a + 13);
 453   1      }
 454          
 455          void CycleProcess(void)
 456          {
 457   1              unsigned char i, index;
 458   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp;
 459   1              unsigned char temp[8] = { 0 };
 460   1              unsigned char Two_Menu_F6_E3_temp = 0;
 461   1              unsigned char Two_Menu_F6_E1_temp = 0;
 462   1      
 463   1              Two_Menu_F6_E3_temp = return_Two_Menu_F6_E3();
 464   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
 465   1      
 466   1              f5_xunhuan = return_Two_Menu_F5_E1();
 467   1              f4_xiaohao = return_Two_Menu_F4_E1();
 468   1              logout_cycle_table_temp = return_logout_cycle_table();
 469   1              /*Ñ­»·´¦Àíº¯Êý*/
 470   1              if ((f5_xunhuan<f4_xiaohao && logout_cycle_table_temp>f5_xunhuan && f4_xiaohao && f5_xunhuan) || (f4_xiao
             -hao == 0 && f5_xunhuan &&logout_cycle_table_temp>f5_xunhuan))
 471   1              {
 472   2                      for (i = 0; i<10; i++)
 473   2                      {
 474   3                              if (display_ram[i<<3] == 0)
 475   3                              {
 476   4                                      index = i;
 477   4                                      break;
 478   4                              }
 479   3                      }
 480   2      
 481   2                      for (i = 0; i<6; i++)
 482   2                      {
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 9   

 483   3                              temp[i] = display_ram[((index - 1)<<3) + i];
 484   3                      }
 485   2      
 486   2                      for (i = index; i>1; i--)
 487   2                      {
 488   3                              mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 489   3                      }
 490   2                      for (i = 0; i<6; i++)
 491   2                      {
 492   3                              display_ram[i] = temp[i];
 493   3                      }
 494   2                      tm1629_load();
 495   2                      display();
 496   2                      set_logout_cycle_table(0);
 497   2                      if (Two_Menu_F6_E3_temp == 1)
 498   2                      {
 499   3                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
 500   3                      }
 501   2              }
 502   1      }
 503          
 504          void LogoutProcess(void)
 505          {
 506   1              unsigned char i;
 507   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp, Two_Menu_F3_E2_temp, Two_Menu_F3_E1_temp;
 508   1              unsigned char Two_Menu_F6_E1_temp = 0;
 509   1              unsigned char Two_Menu_F6_E2_temp = 0;
 510   1      
 511   1              f5_xunhuan = return_Two_Menu_F5_E1();
 512   1              f4_xiaohao = return_Two_Menu_F4_E1();
 513   1              logout_cycle_table_temp = return_logout_cycle_table();
 514   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 515   1              Two_Menu_F3_E1_temp = return_Two_Menu_F3_E1();
 516   1              Two_Menu_F6_E2_temp = return_Two_Menu_F6_E2();
 517   1              /*ÏúºÅ´¦Àíº¯Êý*/
 518   1              if ((f4_xiaohao<f5_xunhuan&& logout_cycle_table_temp>f4_xiaohao && f5_xunhuan && f4_xiaohao) || (f5_xunhu
             -an == 0 && f4_xiaohao && logout_cycle_table_temp>f4_xiaohao))
 519   1              {
 520   2                      for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 521   2                      {
 522   3                              mcuram_to_mcuram_up(display_ram + (i<<3));
 523   3                      }
 524   2                      for (i = ((Two_Menu_F3_E2_temp - 1)<<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 525   2                      {
 526   3                              display_ram[i] = 0;
 527   3                      }
 528   2                      tm1629_load();
 529   2                      display();
 530   2                      set_logout_cycle_table(0);
 531   2                      if (display_ram[0] == 0)
 532   2                      {
 533   3                              set_func_index(MENU_STANDBY);
 534   3                      }
 535   2                      else if (Two_Menu_F3_E1_temp == 2)
 536   2                      {
 537   3                              for (i = 0; i < Two_Menu_F6_E2_temp; i++)
 538   3                              {
 539   4                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
 540   4                              }
 541   3                      }
 542   2              }
 543   1      }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 10  

 544          
 545          
 546          
 547          
 548          
 549          void Logout(void)
 550          {
 551   1              unsigned int i;
 552   1              unsigned char Two_Menu_F3_E2_temp= 0;
 553   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 554   1              /*ÏúºÅ´¦Àíº¯Êý*/
 555   1              for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 556   1              {
 557   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 558   2              }
 559   1              for (i = ((Two_Menu_F3_E2_temp - 1) <<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 560   1              {
 561   2                      display_ram[i] = 0;
 562   2              }
 563   1              decoder_num--;
 564   1              tm1629_load();
 565   1              display();
 566   1              if (display_ram[0] == 0)
 567   1              {
 568   2                      set_func_index(MENU_STANDBY);
 569   2              }
 570   1      }
 571          
 572          void CycleUp(void)
 573          {
 574   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 575   1              unsigned char temp[6] = { 0 };
 576   1              index = return_Two_Menu_F3_E2();
 577   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 578   1              /*Ñ­»·´¦Àíº¯Êý*/
 579   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 580   1              {
 581   2                      if (display_ram[i<<3] == 0)
 582   2                      {
 583   3                              index = i;
 584   3                              break;
 585   3                      }
 586   2              }
 587   1              for (i = 0; i<6; i++)
 588   1              {
 589   2                      temp[i] = display_ram[i];
 590   2              }
 591   1              for (i = 0; i<index; i++)
 592   1              {
 593   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 594   2              }
 595   1              for (i = 0; i<6; i++)
 596   1              {
 597   2                      display_ram[((index - 1)<<3) + i] = temp[i];
 598   2              }
 599   1              tm1629_load();
 600   1              display();
 601   1      }
 602          
 603          void CycleDown(void)
 604          {
 605   1              unsigned char i, index, Two_Menu_F3_E2_temp;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 11  

 606   1              unsigned char temp[6] = { 0 };
 607   1              index = return_Two_Menu_F3_E2();
 608   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 609   1              /*Ñ­»·´¦Àíº¯Êý*/
 610   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 611   1              {
 612   2                      if (display_ram[i<<3] == 0)
 613   2                      {
 614   3                              index = i;
 615   3                              break;
 616   3                      }
 617   2              }
 618   1      
 619   1              for (i = 0; i<6; i++)
 620   1              {
 621   2                      temp[i] = display_ram[((index - 1)<<3) + i];
 622   2              }
 623   1      
 624   1              for (i = index; i>1; i--)
 625   1              {
 626   2                      mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 627   2              }
 628   1              for (i = 0; i<6; i++)
 629   1              {
 630   2                      display_ram[i] = temp[i];
 631   2              }
 632   1              tm1629_load();
 633   1              display();
 634   1      }
 635          
 636          void Cancel_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 637          {
 638   1              /*
 639   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 640   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 641   1              */
 642   1      
 643   1              unsigned int i, index, Two_Menu_F3_E2_temp;
 644   1              unsigned char temp[6] = { 0 };
 645   1              index = return_Two_Menu_F3_E2();
 646   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 647   1      
 648   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 649   1              {
 650   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 651   2                      {
 652   3                              decoder_num--;
 653   3                              index = i;
 654   3                              break;
 655   3                      }
 656   2              }
 657   1              if (index == 0)
 658   1              {
 659   2                      GD5800_stop_music();
 660   2              }
 661   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 662   1              {
 663   2                      mcuram_to_mcuram_up(buff + (i << 3));
 664   2              }
 665   1              if (index != Two_Menu_F3_E2_temp)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 12  

 666   1              {
 667   2                      for (i = 0; i<6; i++)
 668   2                      {
 669   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 670   3                      }
 671   2              }
 672   1              if (*(buff) == 0)
 673   1              {
 674   2                      set_func_index(MENU_STANDBY);
 675   2              }
 676   1      }
 677          
 678          void Search_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 679          {
 680   1              /*
 681   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 682   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 683   1              */
 684   1      
 685   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 686   1              unsigned char temp[6] = { 0 };
 687   1              index = return_Two_Menu_F3_E2();
 688   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 689   1      
 690   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 691   1              {
 692   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 693   2                      {
 694   3                              decoder_num--;
 695   3                              index = i;
 696   3                              break;
 697   3                      }
 698   2              }
 699   1      
 700   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 701   1              {
 702   2                      mcuram_to_mcuram_up(buff + (i << 3));
 703   2              }
 704   1              if (index != Two_Menu_F3_E2_temp)
 705   1              {
 706   2                      for (i = 0; i<6; i++)
 707   2                      {
 708   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 709   3                      }
 710   2              }
 711   1      }
 712          
 713          
 714          
 715          void fun0(void) //´ý»úÏÔÊ¾º¯Êý
 716          {
 717   1              unsigned char temp = 0;
 718   1              temp = return_Two_Menu_FC_E1();
 719   1              decoder_num = 0;
 720   1              if (temp == 1)
 721   1              {
 722   2                      P55 = 1;
 723   2                      tm1629_await();
 724   2              }
 725   1              else
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 13  

 726   1              {
 727   2                      Display_time();
 728   2              }
 729   1              if (return_Two_Menu_Fb_E1() == 1)
 730   1              {
 731   2                      tm1629_display_buff_clear();
 732   2              }
 733   1              
 734   1      }
 735          
 736          void fun1(void) //Ò»¼¶²Ëµ¥F0
 737          {
 738   1              tm1629_f(0x00);
 739   1      }
 740          
 741          void fun2(void) //Ò»¼¶²Ëµ¥F1
 742          {
 743   1              P55 = 1;
 744   1              tm1629_f(0x01);
 745   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6()== 1)
 746   1              {
 747   2                      GD5800_select_chapter(CUNCHUSHEZHI);
 748   2                      set_sound_table(0);
 749   2              }
 750   1      }
 751          
 752          void fun3(void) //Ò»¼¶²Ëµ¥F2
 753          {
 754   1              tm1629_f(0x02);
 755   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 756   1              {
 757   2                      GD5800_select_chapter_new(SHANGCHUSHEZHI);
 758   2                      set_sound_table(0);
 759   2              }
 760   1      }
 761          
 762          void fun4(void) //Ò»¼¶²Ëµ¥F3
 763          {
 764   1              tm1629_f(0x03);
 765   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 766   1              {
 767   2                      GD5800_select_chapter_new(XIANSHISHEZHI);
 768   2                      set_sound_table(0);
 769   2              }
 770   1      }
 771          
 772          void fun5(void) //Ò»¼¶²Ëµ¥F4
 773          {
 774   1              tm1629_f(0x04);
 775   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 776   1              {
 777   2                      GD5800_select_chapter_new(XIAOHAOSHEZHI);
 778   2                      set_sound_table(0);
 779   2              }
 780   1      }
 781          
 782          void fun6(void) //Ò»¼¶²Ëµ¥F5
 783          {
 784   1              tm1629_f(0x05);
 785   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 786   1              {
 787   2                      GD5800_select_chapter_new(XUNHUANSHEZHI);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 14  

 788   2                      set_sound_table(0);
 789   2              }
 790   1      }
 791          
 792          void fun7(void) //Ò»¼¶²Ëµ¥F6
 793          {
 794   1              tm1629_f(0x06);
 795   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 796   1              {
 797   2                      GD5800_select_chapter_new(YUYINSHEZHI);
 798   2                      set_sound_table(0);
 799   2              }
 800   1      }
 801          
 802          void fun8(void) //Ò»¼¶²Ëµ¥F7
 803          {
 804   1              tm1629_f(0x07);
 805   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 806   1              {
 807   2                      GD5800_select_chapter_new(JIANPANSHEZHI);
 808   2                      set_sound_table(0);
 809   2              }
 810   1      }
 811          
 812          void fun9(void) //Ò»¼¶²Ëµ¥F8
 813          {
 814   1              tm1629_f(0x08);
 815   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 816   1              {
 817   2                      GD5800_select_chapter_new(ANJIANSHEZHI);
 818   2                      set_sound_table(0);
 819   2              }
 820   1      }
 821          
 822          void fun10(void) //Ò»¼¶²Ëµ¥F9
 823          {
 824   1              tm1629_f(0x09);
 825   1              if(return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 826   1              {
 827   2                      GD5800_select_chapter_new(HUIFUSHEZHI);
 828   2                      set_sound_table(0);
 829   2              }
 830   1      }
 831          
 832          void fun11(void) //Ò»¼¶²Ëµ¥FA
 833          {
 834   1              tm1629_f(0x0a);
 835   1      }
 836          
 837          void fun12(void) //Ò»¼¶²Ëµ¥Fb
 838          {
 839   1              tm1629_f(0x0b);
 840   1      }
 841          
 842          void fun13(void) //Ò»¼¶²Ëµ¥FC
 843          {
 844   1              tm1629_f(0x0c);
 845   1      }
 846          
 847          void fun14(void) //Ò»¼¶²Ëµ¥Fd
 848          {
 849   1              tm1629_f(0x0d);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 15  

 850   1              set_fd_table(0);
 851   1              P55 = 1;
 852   1      }
 853          
 854          void fun15(void) //ÉèÖÃÄê·Ý
 855          {
 856   1              unsigned char temp;
 857   1              temp = return_Two_Menu_FC_E1();
 858   1              if (temp == 1)//Èç¹ûÎª----  Ôò²»ÈÃ½øÈëF0
 859   1              {
 860   2                      set_func_index(ONE_MENU_F0);
 861   2              }
 862   1              else
 863   1              {
 864   2                      if (return_await_number_table() == 1)
 865   2                      {
 866   3                              Display_time();
 867   3                              set_await_number_table(2);
 868   3                      }
 869   2                      if (return_await_number_table() == 3)
 870   2                      {
 871   3                              buf_display[1][3] = 0;
 872   3                              buf_display[1][2] = 0;
 873   3                              buf_display[1][1] = 0;
 874   3                              buf_display[1][0] = 0;
 875   3                              display();
 876   3                              set_await_number_table(0);
 877   3                      }
 878   2                      Ds1302_Write_Time();
 879   2              }
 880   1      }
 881          
 882          void fun16(void) //ÉèÖÃÔÂ·Ý
 883          {
 884   1              if (return_await_number_table() == 1)
 885   1              {
 886   2                      Display_time();
 887   2                      set_await_number_table(2);
 888   2              }
 889   1              if (return_await_number_table() == 3)
 890   1              {
 891   2                      buf_display[0][7] = 0;
 892   2                      buf_display[0][6] = 0;
 893   2                      display();
 894   2                      set_await_number_table(0);
 895   2              }
 896   1              Ds1302_Write_Time();
 897   1      }
 898          
 899          void fun17(void) //ÉèÖÃÈÕÆÚ
 900          {
 901   1              if (return_await_number_table() == 1)
 902   1              {
 903   2                      Display_time();
 904   2                      set_await_number_table(2);
 905   2              }
 906   1              if (return_await_number_table() == 3)
 907   1              {
 908   2                      buf_display[0][5] = 0;
 909   2                      buf_display[0][4] = 0;
 910   2                      display();
 911   2                      set_await_number_table(0);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 16  

 912   2              }
 913   1              Ds1302_Write_Time();
 914   1      }
 915          
 916          void fun18(void) //ÉèÖÃÐÇÆÚ
 917          {
 918   1              if (return_await_number_table() == 1)
 919   1              {
 920   2                      Display_time();
 921   2                      set_await_number_table(2);
 922   2              }
 923   1              if (return_await_number_table() == 3)
 924   1              {
 925   2                      buf_display[1][4] = 0;
 926   2                      display();
 927   2                      set_await_number_table(0);
 928   2              }
 929   1              Ds1302_Write_Time();
 930   1      }
 931          
 932          void fun19(void) //ÉèÖÃÐ¡Ê±
 933          {
 934   1              if (return_await_number_table() == 1)
 935   1              {
 936   2                      Display_time();
 937   2                      set_await_number_table(2);
 938   2              }
 939   1              if (return_await_number_table() == 3)
 940   1              {
 941   2                      buf_display[0][3] = 0;
 942   2                      buf_display[0][2] = 0;
 943   2                      display();
 944   2                      set_await_number_table(0);
 945   2              }
 946   1              Ds1302_Write_Time();
 947   1      }
 948          
 949          void fun20(void) //ÉèÖÃ·ÖÖÓ
 950          {
 951   1              if (return_await_number_table() == 1)
 952   1              {
 953   2                      Display_time();
 954   2                      set_await_number_table(2);
 955   2              }
 956   1              if (return_await_number_table() == 3)
 957   1              {
 958   2                      buf_display[0][1] = 0;
 959   2                      buf_display[0][0] = 0;
 960   2                      display();
 961   2                      set_await_number_table(0);
 962   2              }
 963   1              Ds1302_Write_Time();
 964   1      }
 965          
 966          void fun21(void) //¶þ¼¶²Ëµ¥F1-E1
 967          {
 968   1              tm1629_E(0x01);
 969   1              Two_Menu_F1_E1[0] = 0;
 970   1              Two_Menu_F1_E1[1] = 0;
 971   1              Two_Menu_F1_E1[2] = 0;
 972   1              Two_Menu_F1_E1[3] = 1;
 973   1      }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 17  

 974          
 975          void fun22(void) //¶þ¼¶²Ëµ¥F1-E2
 976          {
 977   1              tm1629_E(0x02);
 978   1              Two_Menu_F1_E2[0] = 0;
 979   1              Two_Menu_F1_E2[1] = 0;
 980   1              Two_Menu_F1_E2[2] = 0;
 981   1              Two_Menu_F1_E2[3] = 1;
 982   1      }
 983          
 984          void fun23(void) //¶þ¼¶²Ëµ¥F1-E3
 985          {
 986   1              tm1629_E(0x03);
 987   1              Two_Menu_F1_E3[0] = 0;
 988   1              Two_Menu_F1_E3[1] = 0;
 989   1              Two_Menu_F1_E3[2] = 0;
 990   1              Two_Menu_F1_E3[3] = 1;
 991   1      }
 992          
 993          void fun24(void) //¶þ¼¶²Ëµ¥F1-E4
 994          {
 995   1              tm1629_E(0x04);
 996   1              Two_Menu_F1_E4[0] = 0;
 997   1              Two_Menu_F1_E4[1] = 0;
 998   1              Two_Menu_F1_E4[2] = 0;
 999   1              Two_Menu_F1_E4[3] = 1;
1000   1      }
1001          
1002          void fun25(void) //¶þ¼¶²Ëµ¥F2-E1
1003          {
1004   1              tm1629_E(0x01);
1005   1              Two_Menu_F2_E1[0] = 0;
1006   1              Two_Menu_F2_E1[1] = 0;
1007   1              Two_Menu_F2_E1[2] = 0;
1008   1              Two_Menu_F2_E1[3] = 1;
1009   1      }
1010          
1011          void fun26(void) //¶þ¼¶²Ëµ¥F2-E2
1012          {
1013   1              tm1629_E(0x02);
1014   1              Two_Menu_F2_E2[0] = 0;
1015   1              Two_Menu_F2_E2[1] = 0;
1016   1              Two_Menu_F2_E2[2] = 0;
1017   1              Two_Menu_F2_E2[3] = 1;
1018   1      }
1019          
1020          void fun27(void) //¶þ¼¶²Ëµ¥F2-E3
1021          {
1022   1              tm1629_E(0x03);
1023   1              Two_Menu_F2_E3[0] = 0;
1024   1              Two_Menu_F2_E3[1] = 0;
1025   1              Two_Menu_F2_E3[2] = 0;
1026   1              Two_Menu_F2_E3[3] = 1;
1027   1      }
1028          
1029          void fun28(void) //¶þ¼¶²Ëµ¥F2-E4
1030          {
1031   1              tm1629_E(0x04);
1032   1              Two_Menu_F2_E4[0] = 0;
1033   1              Two_Menu_F2_E4[1] = 0;
1034   1              Two_Menu_F2_E4[2] = 0;
1035   1              Two_Menu_F2_E4[3] = 1;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 18  

1036   1      }
1037          
1038          void fun29(void) //¶þ¼¶²Ëµ¥F3-E1
1039          {
1040   1              tm1629_E(0x01);
1041   1      }
1042          
1043          void fun30(void) //¶þ¼¶²Ëµ¥F3-E2
1044          {
1045   1              tm1629_E(0x02);
1046   1      }
1047          
1048          void fun31(void) //¶þ¼¶²Ëµ¥F4
1049          {
1050   1              unsigned char temp = 0;
1051   1              temp = return_Two_Menu_F4_E1();
1052   1              Show_two_number(temp);
1053   1      }
1054          
1055          void fun32(void) //¶þ¼¶²Ëµ¥F5
1056          {
1057   1              unsigned char temp = 0;
1058   1              temp = return_Two_Menu_F5_E1();
1059   1              Show_two_number(temp);
1060   1      }
1061          
1062          void fun33(void) //¶þ¼¶²Ëµ¥F6-E1
1063          {
1064   1              tm1629_E(0x01);
1065   1      }
1066          
1067          void fun34(void) //¶þ¼¶²Ëµ¥F6-E2
1068          {
1069   1              tm1629_E(0x02);
1070   1      }
1071          
1072          void fun35(void) //¶þ¼¶²Ëµ¥F6-E3
1073          {
1074   1              tm1629_E(0x03);
1075   1      }
1076          
1077          void fun36(void) //¶þ¼¶²Ëµ¥F6-E4
1078          {
1079   1              tm1629_E(0x04);
1080   1      }
1081          
1082          void fun37(void) //¶þ¼¶²Ëµ¥F6-E5
1083          {
1084   1              tm1629_E(0x05);
1085   1      }
1086          
1087          void fun38(void) //¶þ¼¶²Ëµ¥F7-E1
1088          {
1089   1              tm1629_E(0x01);
1090   1      }
1091          
1092          void fun39(void) //¶þ¼¶²Ëµ¥F7-E2
1093          {
1094   1              tm1629_E(0x02);
1095   1      }
1096          
1097          void fun40(void) //¶þ¼¶²Ëµ¥F7-E3
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 19  

1098          {
1099   1              tm1629_E(0x03);
1100   1      }
1101          
1102          void fun41(void) //¶þ¼¶²Ëµ¥F7-E4
1103          {
1104   1              tm1629_E(0x04);
1105   1      }
1106          
1107          void fun42(void) //¶þ¼¶²Ëµ¥F8-E1
1108          {
1109   1              tm1629_E(0x01);
1110   1              Two_Menu_F8_E1_save = return_Two_Menu_F8_E1();
1111   1      }
1112          
1113          void fun43(void) //¶þ¼¶²Ëµ¥F8-E2
1114          {
1115   1              tm1629_E(0x02);
1116   1      }
1117          
1118          void fun44(void) //¶þ¼¶²Ëµ¥F9-E1
1119          {
1120   1              tm1629_E(0x01);
1121   1      }
1122          
1123          void fun45(void) //¶þ¼¶²Ëµ¥F9-E2
1124          {
1125   1              tm1629_E(0x02);
1126   1      }
1127          
1128          void fun46(void) //¶þ¼¶²Ëµ¥FA
1129          {
1130   1              unsigned int measure_sync_saved_temp = 0;
1131   1              unsigned int show_temp = 0;
1132   1      
1133   1                      measure_sync_saved_temp = return_RF_trans_count();
1134   1                      show_temp = 10000 / measure_sync_saved_temp;
1135   1                      Show_three_number(show_temp);
1136   1      
1137   1      //              uart_printf("measure_sync_saved_tempÎª %d ! \n\r", measure_sync_saved_temp);
1138   1      //              uart_printf("show_tempÎª %d ! \n\r", show_temp);
1139   1      
1140   1      }
1141          
1142          
1143          void fun47(void) //¶þ¼¶²Ëµ¥Fb
1144          {
1145   1              unsigned char temp = 0;
1146   1              temp = return_Two_Menu_Fb_E1();
1147   1              Show_one_number(temp);
1148   1      }
1149          
1150          void fun48(void) //¶þ¼¶²Ëµ¥FC
1151          {
1152   1              unsigned char temp = 0;
1153   1              temp = return_Two_Menu_FC_E1();
1154   1              Show_one_number(temp);
1155   1      }
1156          
1157          void fun49(void) //¶þ¼¶²Ëµ¥Fd
1158          {
1159   1              unsigned char temp;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 20  

1160   1              temp = return_fd_table();
1161   1              if (temp <= 20)
1162   1              {
1163   2                      if (temp < 4)
1164   2                      {
1165   3                              display_light(0xff);
1166   3                      }
1167   2                      else if (temp <= 18)
1168   2                      {
1169   3                              display_light(INIT_CODE[temp / 2 - 2]);
1170   3                      }
1171   2                      else
1172   2                      {
1173   3                              display_light(0xff);
1174   3                      }
1175   2                      if (P24 == 1)
1176   2                      {
1177   3                              GD5800_select_chapter(YINGYUEYI);
1178   3                      }
1179   2              }
1180   1              if (temp >20)
1181   1              {
1182   2                      tm1629_clear();
1183   2                      display();
1184   2              }
1185   1              P55 = 0;
1186   1      }
1187          
1188          void fun50(void) //F1_E1 Ç§Î»ÉÁË¸
1189          {
1190   1              if (return_await_number_table() == 1)
1191   1              {
1192   2                      Show_four_number(Two_Menu_F1_E1);
1193   2                      set_await_number_table(2);
1194   2              }
1195   1              if (return_await_number_table() == 3)
1196   1              {
1197   2                      buf_display[0][3] = 0;
1198   2                      display();
1199   2                      set_await_number_table(0);
1200   2              }
1201   1      }
1202          
1203          void fun51(void) //F1_E1 °ÙÎ»ÉÁË¸
1204          {
1205   1              if (return_await_number_table() == 1)
1206   1              {
1207   2                      Show_four_number(Two_Menu_F1_E1);
1208   2                      set_await_number_table(2);
1209   2              }
1210   1              if (return_await_number_table() == 3)
1211   1              {
1212   2                      buf_display[0][2] = 0;
1213   2                      display();
1214   2                      set_await_number_table(0);
1215   2              }
1216   1      }
1217          
1218          void fun52(void)  //F1_E1 Ê®Î»ÉÁË¸
1219          {
1220   1              if (return_await_number_table() == 1)
1221   1              {
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 21  

1222   2                      Show_four_number(Two_Menu_F1_E1);
1223   2                      set_await_number_table(2);
1224   2              }
1225   1              if (return_await_number_table() == 3)
1226   1              {
1227   2                      buf_display[0][1] = 0;
1228   2                      display();
1229   2                      set_await_number_table(0);
1230   2              }
1231   1      }
1232          
1233          void fun53(void) //F1_E1 ¸öÎ»ÉÁË¸
1234          {
1235   1              if (return_await_number_table() == 1)
1236   1              {
1237   2                      Show_four_number(Two_Menu_F1_E1);
1238   2                      set_await_number_table(2);
1239   2              }
1240   1              if (return_await_number_table() == 3)
1241   1              {
1242   2                      buf_display[0][0] = 0;
1243   2                      display();
1244   2                      set_await_number_table(0);
1245   2              }
1246   1      }
1247          
1248          void fun54(void) //F1_E2 Ç§Î»ÉÁË¸
1249          {
1250   1              if (return_await_number_table() == 1)
1251   1              {
1252   2                      Show_four_number(Two_Menu_F1_E2);
1253   2                      set_await_number_table(2);
1254   2              }
1255   1              if (return_await_number_table() == 3)
1256   1              {
1257   2                      buf_display[0][3] = 0;
1258   2                      display();
1259   2                      set_await_number_table(0);
1260   2              }
1261   1      }
1262          
1263          void fun55(void) //F1_E2 °ÙÎ»ÉÁË¸
1264          {
1265   1              if (return_await_number_table() == 1)
1266   1              {
1267   2                      Show_four_number(Two_Menu_F1_E2);
1268   2                      set_await_number_table(2);
1269   2              }
1270   1              if (return_await_number_table() == 3)
1271   1              {
1272   2                      buf_display[0][2] = 0;
1273   2                      display();
1274   2                      set_await_number_table(0);
1275   2              }
1276   1      }
1277          
1278          void fun56(void) //F1_E2 Ê®Î»ÉÁË¸
1279          {
1280   1              if (return_await_number_table() == 1)
1281   1              {
1282   2                      Show_four_number(Two_Menu_F1_E2);
1283   2                      set_await_number_table(2);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 22  

1284   2              }
1285   1              if (return_await_number_table() == 3)
1286   1              {
1287   2                      buf_display[0][1] = 0;
1288   2                      display();
1289   2                      set_await_number_table(0);
1290   2              }
1291   1      }
1292          
1293          void fun57(void) //F1_E2 ¸öÎ»ÉÁË¸
1294          {
1295   1              if (return_await_number_table() == 1)
1296   1              {
1297   2                      Show_four_number(Two_Menu_F1_E2);
1298   2                      set_await_number_table(2);
1299   2              }
1300   1              if (return_await_number_table() == 3)
1301   1              {
1302   2                      buf_display[0][0] = 0;
1303   2                      display();
1304   2                      set_await_number_table(0);
1305   2              }
1306   1      }
1307          
1308          void fun58(void) //F1_E3 Ç§Î»ÉÁË¸
1309          {
1310   1              if (return_await_number_table() == 1)
1311   1              {
1312   2                      Show_four_number(Two_Menu_F1_E3);
1313   2                      set_await_number_table(2);
1314   2              }
1315   1              if (return_await_number_table() == 3)
1316   1              {
1317   2                      buf_display[0][3] = 0;
1318   2                      display();
1319   2                      set_await_number_table(0);
1320   2              }
1321   1      }
1322          
1323          void fun59(void) //F1_E3 °ÙÎ»ÉÁË¸
1324          {
1325   1              if (return_await_number_table() == 1)
1326   1              {
1327   2                      Show_four_number(Two_Menu_F1_E3);
1328   2                      set_await_number_table(2);
1329   2              }
1330   1              if (return_await_number_table() == 3)
1331   1              {
1332   2                      buf_display[0][2] = 0;
1333   2                      display();
1334   2                      set_await_number_table(0);
1335   2              }
1336   1      }
1337          
1338          void fun60(void) //F1_E3 Ê®Î»ÉÁË¸
1339          {
1340   1              if (return_await_number_table() == 1)
1341   1              {
1342   2                      Show_four_number(Two_Menu_F1_E3);
1343   2                      set_await_number_table(2);
1344   2              }
1345   1              if (return_await_number_table() == 3)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 23  

1346   1              {
1347   2                      buf_display[0][1] = 0;
1348   2                      display();
1349   2                      set_await_number_table(0);
1350   2              }
1351   1      }
1352          
1353          void fun61(void) //F1_E3 ¸öÎ»ÉÁË¸
1354          {
1355   1              if (return_await_number_table() == 1)
1356   1              {
1357   2                      Show_four_number(Two_Menu_F1_E3);
1358   2                      set_await_number_table(2);
1359   2              }
1360   1              if (return_await_number_table() == 3)
1361   1              {
1362   2                      buf_display[0][0] = 0;
1363   2                      display();
1364   2                      set_await_number_table(0);
1365   2              }
1366   1      }
1367          
1368          void fun62(void) //F1_E4 Ç§Î»ÉÁË¸
1369          {
1370   1              if (return_await_number_table() == 1)
1371   1              {
1372   2                      Show_four_number(Two_Menu_F1_E4);
1373   2                      set_await_number_table(2);
1374   2              }
1375   1              if (return_await_number_table() == 3)
1376   1              {
1377   2                      buf_display[0][3] = 0;
1378   2                      display();
1379   2                      set_await_number_table(0);
1380   2              }
1381   1      }
1382          
1383          void fun63(void) //F1_E4 °ÙÎ»ÉÁË¸
1384          {
1385   1              if (return_await_number_table() == 1)
1386   1              {
1387   2                      Show_four_number(Two_Menu_F1_E4);
1388   2                      set_await_number_table(2);
1389   2              }
1390   1              if (return_await_number_table() == 3)
1391   1              {
1392   2                      buf_display[0][2] = 0;
1393   2                      display();
1394   2                      set_await_number_table(0);
1395   2              }
1396   1      }
1397          
1398          void fun64(void) //F1_E4 Ê®Î»ÉÁË¸
1399          {
1400   1              if (return_await_number_table() == 1)
1401   1              {
1402   2                      Show_four_number(Two_Menu_F1_E4);
1403   2                      set_await_number_table(2);
1404   2              }
1405   1              if (return_await_number_table() == 3)
1406   1              {
1407   2                      buf_display[0][1] = 0;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 24  

1408   2                      display();
1409   2                      set_await_number_table(0);
1410   2              }
1411   1      }
1412          
1413          void fun65(void) //F1_E4 ¸öÎ»ÉÁË¸
1414          {
1415   1              if (return_await_number_table() == 1)
1416   1              {
1417   2                      Show_four_number(Two_Menu_F1_E4);
1418   2                      set_await_number_table(2);
1419   2              }
1420   1              if (return_await_number_table() == 3)
1421   1              {
1422   2                      buf_display[0][0] = 0;
1423   2                      display();
1424   2                      set_await_number_table(0);
1425   2              }
1426   1      }
1427          
1428          void fun66(void) //F2_E1 Ç§Î»ÉÁË¸
1429          {
1430   1              if (return_await_number_table() == 1)
1431   1              {
1432   2                      Show_four_number(Two_Menu_F2_E1);
1433   2                      set_await_number_table(2);
1434   2              }
1435   1              if (return_await_number_table() == 3)
1436   1              {
1437   2                      buf_display[0][3] = 0;
1438   2                      display();
1439   2                      set_await_number_table(0);
1440   2              }
1441   1      }
1442          
1443          void fun67(void) //F2_E1 °ÙÎ»ÉÁË¸
1444          {
1445   1              if (return_await_number_table() == 1)
1446   1              {
1447   2                      Show_four_number(Two_Menu_F2_E1);
1448   2                      set_await_number_table(2);
1449   2              }
1450   1              if (return_await_number_table() == 3)
1451   1              {
1452   2                      buf_display[0][2] = 0;
1453   2                      display();
1454   2                      set_await_number_table(0);
1455   2              }
1456   1      }
1457          
1458          void fun68(void) //F2_E1 Ê®Î»ÉÁË¸
1459          {
1460   1              if (return_await_number_table() == 1)
1461   1              {
1462   2                      Show_four_number(Two_Menu_F2_E1);
1463   2                      set_await_number_table(2);
1464   2              }
1465   1              if (return_await_number_table() == 3)
1466   1              {
1467   2                      buf_display[0][1] = 0;
1468   2                      display();
1469   2                      set_await_number_table(0);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 25  

1470   2              }
1471   1      }
1472          
1473          void fun69(void) //F2_E1 ¸öÎ»ÉÁË¸
1474          {
1475   1              if (return_await_number_table() == 1)
1476   1              {
1477   2                      Show_four_number(Two_Menu_F2_E1);
1478   2                      set_await_number_table(2);
1479   2              }
1480   1              if (return_await_number_table() == 3)
1481   1              {
1482   2                      buf_display[0][0] = 0;
1483   2                      display();
1484   2                      set_await_number_table(0);
1485   2              }
1486   1      }
1487          
1488          void fun70(void) //F2_E2 Ç§Î»ÉÁË¸
1489          {
1490   1              if (return_await_number_table() == 1)
1491   1              {
1492   2                      Show_four_number(Two_Menu_F2_E2);
1493   2                      set_await_number_table(2);
1494   2              }
1495   1              if (return_await_number_table() == 3)
1496   1              {
1497   2                      buf_display[0][3] = 0;
1498   2                      display();
1499   2                      set_await_number_table(0);
1500   2              }
1501   1      }
1502          
1503          void fun71(void) //F2_E2 °ÙÎ»ÉÁË¸
1504          {
1505   1              if (return_await_number_table() == 1)
1506   1              {
1507   2                      Show_four_number(Two_Menu_F2_E2);
1508   2                      set_await_number_table(2);
1509   2              }
1510   1              if (return_await_number_table() == 3)
1511   1              {
1512   2                      buf_display[0][2] = 0;
1513   2                      display();
1514   2                      set_await_number_table(0);
1515   2              }
1516   1      }
1517          
1518          void fun72(void) //F2_E2 Ê®Î»ÉÁË¸
1519          {
1520   1              if (return_await_number_table() == 1)
1521   1              {
1522   2                      Show_four_number(Two_Menu_F2_E2);
1523   2                      set_await_number_table(2);
1524   2              }
1525   1              if (return_await_number_table() == 3)
1526   1              {
1527   2                      buf_display[0][1] = 0;
1528   2                      display();
1529   2                      set_await_number_table(0);
1530   2              }
1531   1      }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 26  

1532          
1533          void fun73(void) //F2_E2 ¸öÎ»ÉÁË¸
1534          {
1535   1              if (return_await_number_table() == 1)
1536   1              {
1537   2                      Show_four_number(Two_Menu_F2_E2);
1538   2                      set_await_number_table(2);
1539   2              }
1540   1              if (return_await_number_table() == 3)
1541   1              {
1542   2                      buf_display[0][0] = 0;
1543   2                      display();
1544   2                      set_await_number_table(0);
1545   2              }
1546   1      }
1547          
1548          void fun74(void) //F2_E3 Ç§Î»ÉÁË¸
1549          {
1550   1              if (return_await_number_table() == 1)
1551   1              {
1552   2                      Show_four_number(Two_Menu_F2_E3);
1553   2                      set_await_number_table(2);
1554   2              }
1555   1              if (return_await_number_table() == 3)
1556   1              {
1557   2                      buf_display[0][3] = 0;
1558   2                      display();
1559   2                      set_await_number_table(0);
1560   2              }
1561   1      }
1562          
1563          void fun75(void) //F2_E3 °ÙÎ»ÉÁË¸
1564          {
1565   1              if (return_await_number_table() == 1)
1566   1              {
1567   2                      Show_four_number(Two_Menu_F2_E3);
1568   2                      set_await_number_table(2);
1569   2              }
1570   1              if (return_await_number_table() == 3)
1571   1              {
1572   2                      buf_display[0][2] = 0;
1573   2                      display();
1574   2                      set_await_number_table(0);
1575   2              }
1576   1      }
1577          
1578          void fun76(void) //F2_E3 Ê®Î»ÉÁË¸
1579          {
1580   1              if (return_await_number_table() == 1)
1581   1              {
1582   2                      Show_four_number(Two_Menu_F2_E3);
1583   2                      set_await_number_table(2);
1584   2              }
1585   1              if (return_await_number_table() == 3)
1586   1              {
1587   2                      buf_display[0][1] = 0;
1588   2                      display();
1589   2                      set_await_number_table(0);
1590   2              }
1591   1      }
1592          
1593          void fun77(void) //F2_E3 ¸öÎ»ÉÁË¸
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 27  

1594          {
1595   1              if (return_await_number_table() == 1)
1596   1              {
1597   2                      Show_four_number(Two_Menu_F2_E3);
1598   2                      set_await_number_table(2);
1599   2              }
1600   1              if (return_await_number_table() == 3)
1601   1              {
1602   2                      buf_display[0][0] = 0;
1603   2                      display();
1604   2                      set_await_number_table(0);
1605   2              }
1606   1      }
1607          
1608          void fun78(void) //F2_E4 Ç§Î»ÉÁË¸
1609          {
1610   1              if (return_await_number_table() == 1)
1611   1              {
1612   2                      Show_four_number(Two_Menu_F2_E4);
1613   2                      set_await_number_table(2);
1614   2              }
1615   1              if (return_await_number_table() == 3)
1616   1              {
1617   2                      buf_display[0][3] = 0;
1618   2                      display();
1619   2                      set_await_number_table(0);
1620   2              }
1621   1      }
1622          
1623          void fun79(void) //F2_E4 °ÙÎ»ÉÁË¸
1624          {
1625   1              if (return_await_number_table() == 1)
1626   1              {
1627   2                      Show_four_number(Two_Menu_F2_E4);
1628   2                      set_await_number_table(2);
1629   2              }
1630   1              if (return_await_number_table() == 3)
1631   1              {
1632   2                      buf_display[0][2] = 0;
1633   2                      display();
1634   2                      set_await_number_table(0);
1635   2              }
1636   1      }
1637          
1638          void fun80(void) //F2_E4 Ê®Î»ÉÁË¸
1639          {
1640   1              if (return_await_number_table() == 1)
1641   1              {
1642   2                      Show_four_number(Two_Menu_F2_E4);
1643   2                      set_await_number_table(2);
1644   2              }
1645   1              if (return_await_number_table() == 3)
1646   1              {
1647   2                      buf_display[0][1] = 0;
1648   2                      display();
1649   2                      set_await_number_table(0);
1650   2              }
1651   1      }
1652          
1653          void fun81(void) //F2_E4 ¸öÎ»ÉÁË¸
1654          {
1655   1              if (return_await_number_table() == 1)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 28  

1656   1              {
1657   2                      Show_four_number(Two_Menu_F2_E4);
1658   2                      set_await_number_table(2);
1659   2              }
1660   1              if (return_await_number_table() == 3)
1661   1              {
1662   2                      buf_display[0][0] = 0;
1663   2                      display();
1664   2                      set_await_number_table(0);
1665   2              }
1666   1      }
1667          
1668          void fun82(void) //ÏÔÊ¾¼´Ê±ÏÔÊ¾ »¹ÊÇÑ­»·ÏÔÊ¾
1669          {
1670   1              unsigned char temp=0;
1671   1              temp = return_Two_Menu_F3_E1();
1672   1              Show_one_number(temp);
1673   1      }
1674          
1675          void fun83(void) //¶ÓÁÐ´æ´¢¸öÊý
1676          {
1677   1              unsigned char temp = 0;
1678   1              temp = return_Two_Menu_F3_E2();
1679   1              Show_two_number(temp);
1680   1      }
1681          
1682          void fun84(void) //F6_E1ÓïÒôÑ¡Ôñ
1683          {
1684   1              unsigned char temp = 0;
1685   1              temp = return_Two_Menu_F6_E1();
1686   1              Show_one_number(temp);
1687   1      }
1688          
1689          void fun85(void) //F6_E2ÓïÒô±¨¶Á´ÎÊý
1690          {
1691   1              unsigned char temp = 0;
1692   1              temp = return_Two_Menu_F6_E2();
1693   1              Show_one_number(temp);
1694   1      }
1695          
1696          void fun86(void) //F6_E3Ñ­»·Ê±ºòÊÇ·ñ±¨¶Á
1697          {
1698   1              unsigned char temp = 0;
1699   1              temp = return_Two_Menu_F6_E3();
1700   1              Show_one_number(temp);
1701   1      }
1702          
1703          void fun87(void) //F6_E4ÒôÁ¿´óÐ¡µ÷Õû
1704          {
1705   1              unsigned char temp = 0;
1706   1              temp = return_Two_Menu_F6_E4();
1707   1              GD5800_sound_volume(temp * 3);
1708   1              Show_one_number(temp);
1709   1      }
1710          
1711          void fun88(void) //F6_E5ÆÁÄ»ÁÁ¶Èµ÷Õû
1712          {
1713   1              unsigned char temp = 0;
1714   1              temp = return_Two_Menu_F6_E5();
1715   1              Show_one_number(temp);
1716   1      }
1717          
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 29  

1718          void fun89(void) //F7_E1 999*9
1719          {
1720   1              unsigned char temp = 0;
1721   1              temp = return_Two_Menu_F7_E1();
1722   1              if (temp < 10)
1723   1              {
1724   2                      Show_one_number(temp);
1725   2              }
1726   1              else
1727   1              {
1728   2                      Show_off();
1729   2              }
1730   1      }
1731          
1732          void fun90(void) //F7_E2 9999*9
1733          {
1734   1              unsigned char temp = 0;
1735   1              temp = return_Two_Menu_F7_E2();
1736   1              Show_one_number(temp);
1737   1      }
1738          
1739          void fun91(void) //F7_E3 999*99
1740          {
1741   1              unsigned char temp = 0;
1742   1              temp = return_Two_Menu_F7_E3();
1743   1              Show_one_number(temp);
1744   1      }
1745          
1746          void fun92(void) //F7_E4 9999*99
1747          {
1748   1              unsigned char temp = 0;
1749   1              temp = return_Two_Menu_F7_E4();
1750   1              Show_one_number(temp);
1751   1      }
1752          
1753          void fun93(void) //F8_E1µ¥¼üÎ»¸ú¶à¼üÎ»ÇÐ»»
1754          {
1755   1              unsigned char temp = 0;
1756   1              temp = return_Two_Menu_F8_E1();
1757   1              Show_one_number(temp);
1758   1              if (temp != Two_Menu_F8_E1_save)
1759   1              {
1760   2                      Delete_all_data();
1761   2                      Two_Menu_F8_E1_save = temp;
1762   2                      if (return_sound_table() == 1)
1763   2                      {
1764   3                              GD5800_select_chapter(CHENGGONG);
1765   3      
1766   3                              set_sound_table(0);
1767   3                      }
1768   2              }
1769   1      }
1770          
1771          void fun94(void) //F8_E2¼üÎ»ÉèÖÃ
1772          {
1773   1              unsigned char temp = 0;
1774   1              temp = return_Two_Menu_F8_E2();
1775   1              Show_two_number(temp);
1776   1              if (return_sound_table() == 1 )
1777   1              {
1778   2                      GD5800_select_chapter_new(temp + QUXIAO);
1779   2              }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 15:49:18 PAGE 30  

1780   1              if (return_Two_menu_set_success() == 1)
1781   1              {
1782   2                      GD5800_select_chapter_new(CHENGGONG);
1783   2                      set_Two_menu_set_success(0);
1784   2              }
1785   1      }
1786          
1787          void fun95(void) //½âÂë²Ëµ¥
1788          {
1789   1              unsigned char Two_Menu_F6_E1_temp = 0;
1790   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
1791   1              //tm1629_load();
1792   1              //display();
1793   1      
1794   1              if (  display_ram[0] == BAOJING_1)
1795   1              {
1796   2                      if (P24 == 1)
1797   2                      {
1798   3                              GD5800_select_chapter(BAOJING);
1799   3                      }       
1800   2              }
1801   1              P55 = 1;//ÃëÕëÃð
1802   1              
1803   1      }
1804          
1805          void fun96(void) //¶þ¼¶²Ëµ¥F6-E6
1806          {
1807   1              tm1629_E(0x06);
1808   1      }
1809          
1810          void fun97(void) //¶þ¼¶²Ëµ¥F6-E6
1811          {
1812   1              unsigned char temp = 0;
1813   1              temp = return_Two_Menu_F6_E6();
1814   1              Show_one_number(temp);
1815   1      }
1816          
1817          void fun98(void) //¶þ¼¶²Ëµ¥F6-E7
1818          {
1819   1              tm1629_E(0x07);
1820   1      }
1821          
1822          void fun99(void) //¶þ¼¶²Ëµ¥F6-E7
1823          {
1824   1              unsigned char temp = 0;
1825   1              temp = return_Two_Menu_F6_E7();
1826   1              Show_one_number(temp);
1827   1      }
1828          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   7093    ----
   CONSTANT SIZE    =     32    ----
   XDATA SIZE       =    913      87
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
