C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE TM1629
OBJECT MODULE PLACED IN tm1629.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Receiver\tm1629.c LARGE BROWSE INCDIR(.\Receiver) DEBUG OBJECTEXTEND PRINT(
                    -.\tm1629.lst) OBJECT(tm1629.obj)

line level    source

   1          #include "tm1629.h"
   2          #include "timer.h"
   3          #include "usart.h"
   4          #include "ds1302.h"
   5          #include "key.h"
   6          #include "menu.h"
   7          #include "gd5800.h"
   8          #include "at24c256.h"
   9          #include "ev1527.h"
  10          #include "decoder.h"
  11          
  12          unsigned char const CODE[] = { 0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F, 0x77, 0x7C, 0x3
             -9, 0x5E, 0x79, 0x71, 0x76, 0x38, 0x5c, 0x73, 0x3e };//0-9 abcdef ÏÔÊ¾Æ÷ÂëÊý×é
  13          unsigned char const INIT_CODE[] = { 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80 };//Öð¶ÎµãÁÁÊýÂë¹ÜÊý×é
  14          unsigned char const SHANGSHUO[] = { 0x40, 0x00 }; // µãÁÁÊýÂë¹ÜÖÐ¼ä¶ÎÒÔ¼°Ãð
  15          unsigned char buf_display[6][8] = { 0 }; //3¸öTM1629ÏÔ´æÊý×é
  16          unsigned char display_ram[800] = { 0 }; //³ÌÐòÔËÐÐÊ±¼ÇÂ¼ÏÔÊ¾Êý¾ÝµÄÄÚ´æ 
  17          unsigned char await_time_table= 0 ;//ÓÃÓÚ¼ÇÂ¼´ý»úÏÔÊ¾ºá¸ÜÊýÂë¹Ü´ÎÊý 
  18          unsigned char Two_Menu_F8_E1_save =0;
  19          
  20          unsigned char single_key[16]   = { 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
             - 0x01, 0x01, 0x01, 0x01 };//µ¥¼üÎ»ÉèÖÃ´æ´¢Êý×é
  21          unsigned char multiple_key[16] = { 0x01, QUXIAO-QUXIAO, JIEZHANG-QUXIAO, DIANDANG-QUXIAO, JIUSHUI-QUXIAO, 
             -0X01, 0x01, JIASHUI-QUXIAO, HUJIAO - QUXIAO, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01 };//¶à¼üÎ»ÉèÖÃ´æ´¢Êý×é
  22          
  23          void writeDataTo1629(unsigned char p) //Ð´Êý¾Ý¸øµÚÒ»¸öTM1629
  24          {
  25   1              unsigned int i;
  26   1              TM1629_STB = 0;
  27   1              for (i = 0; i<8; i++)
  28   1              {
  29   2                      TM1629_CLK = 0;
  30   2                      if (p & 0x01)
  31   2                              TM1629_DIO = 1;
  32   2                      else
  33   2                              TM1629_DIO = 0;
  34   2                      _nop_();
  35   2                      _nop_();
  36   2                      _nop_();
  37   2                      _nop_();
  38   2                      TM1629_CLK = 1;
  39   2                      p = p >> 1;
  40   2              }
  41   1              TM1629_CLK = 0;
  42   1              TM1629_DIO = 0;
  43   1      }
  44          
  45          void writeDataTo1629_2(unsigned char p) //Ð´Êý¾Ý¸øµÚ¶þ¸öTM1629
  46          {
  47   1              unsigned int i;
  48   1              TM1629_STB2 = 0;
  49   1              for (i = 0; i<8; i++)
  50   1              {
  51   2                      TM1629_CLK = 0;
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 2   

  52   2                      if (p & 0x01)
  53   2                              TM1629_DIO = 1;
  54   2                      else
  55   2                              TM1629_DIO = 0;
  56   2                      _nop_();
  57   2                      _nop_();
  58   2                      _nop_();
  59   2                      _nop_();
  60   2                      TM1629_CLK = 1;
  61   2                      p = p >> 1;
  62   2              }
  63   1              TM1629_CLK = 0;
  64   1              TM1629_DIO = 0;
  65   1      }
  66          
  67          void writeDataTo1629_3(unsigned char p) //Ð´Êý¾Ý¸øµÚÈý¸öTM1629
  68          {
  69   1              unsigned int i;
  70   1              TM1629_STB3 = 0;
  71   1              for (i = 0; i<8; i++)
  72   1              {
  73   2                      TM1629_CLK = 0;
  74   2                      if (p & 0x01)
  75   2                              TM1629_DIO = 1;
  76   2                      else
  77   2                              TM1629_DIO = 0;
  78   2                      _nop_();
  79   2                      _nop_();
  80   2                      _nop_();
  81   2                      _nop_();
  82   2                      TM1629_CLK = 1;
  83   2                      p = p >> 1;
  84   2              }
  85   1              TM1629_CLK = 0;
  86   1              TM1629_DIO = 0;
  87   1      }
  88          
  89          void send_command(unsigned char word) //Ð´ÃüÁî¸øµÚÒ»¸öTM1629
  90          {
  91   1              TM1629_STB = 1;
  92   1              nop;
  93   1              TM1629_STB = 0;
  94   1              writeDataTo1629(word);
  95   1      }
  96          
  97          void send_command_2(unsigned char word) //Ð´ÃüÁî¸øµÚ¶þ¸öTM1629
  98          {
  99   1              TM1629_STB2 = 1;
 100   1              nop;
 101   1              TM1629_STB2 = 0;
 102   1              writeDataTo1629_2(word);
 103   1      }
 104          
 105          void send_command_3(unsigned char word) //Ð´ÃüÁî¸øµÚÈý¸öTM1629
 106          {
 107   1              TM1629_STB3 = 1;
 108   1              nop;
 109   1              TM1629_STB3 = 0;
 110   1              writeDataTo1629_3(word);
 111   1      }
 112          
 113          void display(void) //3¸öTM1629ÏÔÊ¾º¯Êý
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 3   

 114          {
 115   1              unsigned char i,temp;
 116   1              temp = return_Two_Menu_F6_E5();
 117   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 118   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 119   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 120   1              {
 121   2                      writeDataTo1629(buf_display[0][i]);
 122   2                      writeDataTo1629(buf_display[1][i]);
 123   2              }
 124   1              send_command(0x88 + temp);      //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 125   1              TM1629_STB = 1;
 126   1      
 127   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 128   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 129   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 130   1              {
 131   2                      writeDataTo1629_2(buf_display[2][i]);
 132   2                      writeDataTo1629_2(buf_display[3][i]);
 133   2              }
 134   1              send_command_2(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 135   1              TM1629_STB2 = 1;
 136   1      
 137   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 138   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 139   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 140   1              {
 141   2                      writeDataTo1629_3(buf_display[4][i]);
 142   2                      writeDataTo1629_3(buf_display[5][i]);
 143   2              }
 144   1              send_command_3(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 145   1              TM1629_STB3 = 1;
 146   1      }
 147          
 148          void display_light(unsigned char temp) //3¸öTM1629ÏÔÊ¾º¯Êý
 149          {
 150   1              unsigned char i;
 151   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 152   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 153   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 154   1              {
 155   2                      writeDataTo1629(temp);
 156   2                      writeDataTo1629(temp);
 157   2              }
 158   1              send_command(0x8f);     //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 159   1              TM1629_STB = 1;
 160   1      
 161   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 162   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 163   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 164   1              {
 165   2                      writeDataTo1629_2(temp);
 166   2                      writeDataTo1629_2(temp);
 167   2              }
 168   1              send_command_2(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 169   1              TM1629_STB2 = 1;
 170   1      
 171   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 172   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 173   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 174   1              {
 175   2                      writeDataTo1629_3(temp);
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 4   

 176   2                      writeDataTo1629_3(temp);
 177   2              }
 178   1              send_command_3(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 179   1              TM1629_STB3 = 1;
 180   1      }
 181          
 182          void tm1629_init(void) //TM1629¿ª»ú³õÊ¼»¯º¯Êý
 183          {
 184   1              unsigned char i, j, k;          //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
 185   1              for (k = 0; k<8; k++)
 186   1              {
 187   2                      for (i = 0; i<6; i++)
 188   2                      {
 189   3                              for (j = 0; j<8; j++)
 190   3                              {
 191   4                                      buf_display[i][j] = INIT_CODE[k];
 192   4                              }
 193   3                      }
 194   2                      display();
 195   2                      Tm1629_delay(30);
 196   2              }
 197   1      }
 198          
 199          
 200          void Tm1629_delay(unsigned char k) //ÑÓÊ±º¯Êý
 201          {
 202   1              unsigned char i, j;
 203   1              for (; k>0; k--)
 204   1              {
 205   2                      for (i = 255; i>0; i--)
 206   2                      {
 207   3                              for (j = 255; j>0; j--)
 208   3                              {
 209   4                                      ;
 210   4      
 211   4                              }
 212   3                      }
 213   2              }
 214   1      }
 215          
 216          void tm1629_clear(void)//È«²¿¹éÁã
 217          {
 218   1              unsigned char i, j;
 219   1              for (i = 0; i<6; i++)
 220   1              {
 221   2                      for (j = 0; j<8; j++)
 222   2                      {
 223   3                              buf_display[i][j] = 0x00;
 224   3                      }
 225   2              }
 226   1      }
 227          
 228          void tm1629_display_buff_clear(void)//Çå³ý¶ÓÁÐ»º´æ
 229          {
 230   1              unsigned char i;
 231   1              for (i = 0; i<120; i++)
 232   1                      display_ram[i] = 0;
 233   1      }
 234          
 235          void tm1629_await(void)
 236          {
 237   1              unsigned char i;        //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 5   

 238   1              unsigned char await_number_table_temp = 0;
 239   1              await_number_table_temp = return_await_number_table();
 240   1              if (await_number_table_temp == 1)
 241   1              {
 242   2                      //GD5800_select_chapter(0x0008) ;
 243   2                      tm1629_clear();
 244   2                      i = await_time_table & 0x03;
 245   2                      buf_display[0][i] = 0x40;
 246   2                      display();
 247   2                      set_await_number_table(0);
 248   2                      await_time_table++;
 249   2                      if (await_time_table == 4)
 250   2                              await_time_table = 0;
 251   2              }
 252   1      }
 253          
 254          void Display_time(void)
 255          {
 256   1              tm1629_clear();
 257   1              Ds1302_Read_Time(); 
 258   1              buf_display[1][7] = CODE[2];                            //Äê
 259   1              buf_display[1][6] = CODE[0];
 260   1              buf_display[1][5] = CODE[time_buf1[1] / 10];
 261   1              buf_display[1][4] = CODE[time_buf1[1] % 10];
 262   1      
 263   1              buf_display[1][3] = 0x40;                                        // -
 264   1              
 265   1              buf_display[1][2] = CODE[time_buf1[2] / 10]; //ÔÂ
 266   1              buf_display[1][1] = CODE[time_buf1[2] % 10];
 267   1      
 268   1              buf_display[1][0] = 0x40;                                        // -
 269   1      
 270   1              buf_display[0][7] = CODE[time_buf1[3] / 10];
 271   1              buf_display[0][6] = CODE[time_buf1[3] % 10];//ÈÕ
 272   1      
 273   1              buf_display[0][5] = CODE[time_buf1[7]];         //ÐÇÆÚ
 274   1      
 275   1              buf_display[0][3] = CODE[time_buf1[4] / 10]; //Ð¡Ê±
 276   1              buf_display[0][2] = CODE[time_buf1[4] % 10];
 277   1              buf_display[0][1] = CODE[time_buf1[5] / 10]; //Ð¡Ê±
 278   1              buf_display[0][0] = CODE[time_buf1[5] % 10];
 279   1      
 280   1              display();
 281   1      
 282   1      }
 283          
 284          void tm1629_f(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 285          {
 286   1              tm1629_clear();
 287   1              buf_display[0][1] = CODE[0x0f];
 288   1              buf_display[0][0] = CODE[f_number];
 289   1              display();
 290   1      }
 291          
 292          void tm1629_E(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 293          {
 294   1              tm1629_clear();
 295   1              buf_display[0][1] = CODE[0x0E];
 296   1              buf_display[0][0] = CODE[f_number];
 297   1              display();
 298   1      }
 299          void Show_on(void)
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 6   

 300          {
 301   1              tm1629_clear();
 302   1              buf_display[0][1] = CODE[0];
 303   1              buf_display[0][0] = 0x37;
 304   1              display();
 305   1      }
 306          
 307          void Show_off(void)
 308          {
 309   1              tm1629_clear();
 310   1              buf_display[0][1] = CODE[0x00];
 311   1              buf_display[0][0] = CODE[0x0f];
 312   1              display();
 313   1      }
 314          
 315          void Show_one_number(unsigned char f_number) //ÏÔÊ¾Ò»¸öÊý×Ö
 316          {
 317   1              tm1629_clear();
 318   1              //buf_display[0][1] = CODE[0x0E];
 319   1              buf_display[0][0] = CODE[f_number];
 320   1              display();
 321   1      }
 322          
 323          void Show_two_number(unsigned char f_number) //ÏÔÊ¾Á½¸öÊý×Ö
 324          {
 325   1              tm1629_clear();
 326   1              buf_display[0][1] = CODE[f_number / 10];
 327   1              buf_display[0][0] = CODE[f_number % 10];
 328   1              display();
 329   1      }
 330          
 331          
 332          void Show_three_number(unsigned int f_number) //ÏÔÊ¾Èý¸öÊý×Ö
 333          {
 334   1              tm1629_clear();
 335   1              buf_display[0][2] = CODE[f_number / 100];
 336   1              buf_display[0][1] = CODE[(f_number / 10) %10];
 337   1              buf_display[0][0] = CODE[f_number % 10];
 338   1              display();
 339   1      }
 340          
 341          void Show_four_number(unsigned char* temp)
 342          {
 343   1              tm1629_clear();
 344   1              buf_display[0][3] = CODE[*(temp)];
 345   1              buf_display[0][2] = CODE[*(temp+1)];
 346   1              buf_display[0][1] = CODE[*(temp+2)];
 347   1              buf_display[0][0] = CODE[*(temp+3)];
 348   1              display();
 349   1      }
 350          
 351          void tm1629_load(void)
 352          {
 353   1              tm1629_clear();
 354   1              if (*(display_ram + 80) != 0)
 355   1                      mcuram_to_displayram(buf_display[5] + 7, display_ram + 80);
 356   1              if (*(display_ram + 72) != 0)
 357   1                      mcuram_to_displayram(buf_display[5] + 3, display_ram + 72);
 358   1              if (*(display_ram + 64) != 0)
 359   1                      mcuram_to_displayram(buf_display[4] + 7, display_ram + 64);
 360   1              if (*(display_ram + 56) != 0)
 361   1                      mcuram_to_displayram(buf_display[4] + 3, display_ram + 56);
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 7   

 362   1              if (*(display_ram + 48) != 0)
 363   1                      mcuram_to_displayram(buf_display[3] + 7, display_ram + 48);
 364   1              if (*(display_ram + 40) != 0)
 365   1                      mcuram_to_displayram(buf_display[3] + 3, display_ram + 40);
 366   1              if (*(display_ram + 32) != 0)
 367   1                      mcuram_to_displayram(buf_display[2] + 7, display_ram + 32);
 368   1              if (*(display_ram + 24) != 0)
 369   1                      mcuram_to_displayram(buf_display[2] + 3, display_ram + 24);
 370   1              if (*(display_ram + 16) != 0)
 371   1                      mcuram_to_displayram(buf_display[1] + 7, display_ram + 16);
 372   1              if (*(display_ram + 8) != 0)
 373   1                      mcuram_to_displayram(buf_display[1] + 3, display_ram + 8);
 374   1              if (*(display_ram + 0) != 0)
 375   1                      mcuram_to_displayram(buf_display[0] + 3, display_ram);
 376   1      
 377   1              buf_display[0][5] = CODE[decoder_num / 10];
 378   1              buf_display[0][4] = CODE[decoder_num % 10];
 379   1      }
 380          
 381          void mcuram_to_displayram(unsigned char a[48], unsigned char* b)  //´ÓRAMÇøÓòÒÆµ½ÏÔ´æÇøÓò,Ë³´ø·­Òë³ÉÊýÂë¹Ü
             -ÏÔÊ¾µÄÂë
 382          {
 383   1              /*
 384   1              A// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 385   1              B// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 386   1              */
 387   1              *(a) = CODE[*(b + 1)];
 388   1              *(a - 1) = CODE[*(b + 2)];
 389   1              *(a - 2) = CODE[*(b + 3)];
 390   1              *(a - 3) = CODE[*(b + 4)];
 391   1      
 392   1              switch (*(b + 5) & 0x0f)//ÏÔÊ¾ºô½ÐÀàÐÍ
 393   1              {
 394   2              case 2:
 395   2                      *(a - 3) |= 0x80;
 396   2                      *(a - 2) |= 0x80;
 397   2      
 398   2                      break;//7¼ü
 399   2              case 3:
 400   2                      *(a - 3) |= 0x80;
 401   2                      *(a - 2) |= 0x80;
 402   2                      *(a - 1) |= 0x80;
 403   2                      *(a) |= 0x80;
 404   2                      break;//78¼ü
 405   2              case 4:
 406   2                      *(a - 3) |= 0x80;
 407   2                      *(a - 2) |= 0x80;
 408   2                      *(a - 1) |= 0x80;
 409   2                      break;//6¼ü
 410   2              case 7:
 411   2                      *(a - 2) |= 0x80;
 412   2                      break;//678¼ü
 413   2              case 8:
 414   2                      *(a - 3) |= 0x80;
 415   2                      break;//5¼ü
 416   2              default:break;
 417   2              }
 418   1      
 419   1      
 420   1      }
 421          
 422          void decoder_temp_to_mcuram(unsigned char* a, unsigned char* index)//aÎªMCU»º´æÇø   indexÎª½âÂëºóÈ¡³öµÄ8×Ö
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 8   

             -½ÚÁÙÊ±Êý×é
 423          {
 424   1              *(a + 0) = *(index);
 425   1              *(a + 1) = *(index + 1);
 426   1              *(a + 2) = *(index + 2);
 427   1              *(a + 3) = *(index + 3);
 428   1              *(a + 4) = *(index + 4);
 429   1              *(a + 5) = *(index + 7);//±£´æ°´¼üµÄ¼üÖµ
 430   1      }
 431          
 432          void mcuram_to_mcuram_down(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÏÂÑ¹Ò»×éÊý¾Ý
 433          {
 434   1              *(a + 8) = *(a);                //ramÇøÔªËØÏÂÒÆ6¸ö
 435   1              *(a + 9) = *(a + 1);
 436   1              *(a + 10) = *(a + 2);
 437   1              *(a + 11) = *(a + 3);
 438   1              *(a + 12) = *(a + 4);
 439   1              *(a + 13) = *(a + 5);
 440   1      
 441   1      }
 442          
 443          void mcuram_to_mcuram_up(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÉÏÑ¹Ò»×éÊý¾Ý
 444          {
 445   1              *(a) = *(a + 8);   //ramÇøÔªËØÉÏÒÆ6¸ö
 446   1              *(a + 1) = *(a + 9);
 447   1              *(a + 2) = *(a + 10);
 448   1              *(a + 3) = *(a + 11);
 449   1              *(a + 4) = *(a + 12);
 450   1              *(a + 5) = *(a + 13);
 451   1      }
 452          
 453          void CycleProcess(void)
 454          {
 455   1              unsigned char i, index;
 456   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp;
 457   1              unsigned char temp[8] = { 0 };
 458   1              unsigned char Two_Menu_F6_E3_temp = 0;
 459   1              unsigned char Two_Menu_F6_E1_temp = 0;
 460   1      
 461   1              Two_Menu_F6_E3_temp = return_Two_Menu_F6_E3();
 462   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
 463   1      
 464   1              f5_xunhuan = return_Two_Menu_F5_E1();
 465   1              f4_xiaohao = return_Two_Menu_F4_E1();
 466   1              logout_cycle_table_temp = return_logout_cycle_table();
 467   1              /*Ñ­»·´¦Àíº¯Êý*/
 468   1              if ((f5_xunhuan<f4_xiaohao && logout_cycle_table_temp>f5_xunhuan && f4_xiaohao && f5_xunhuan) || (f4_xiao
             -hao == 0 && f5_xunhuan &&logout_cycle_table_temp>f5_xunhuan))
 469   1              {
 470   2                      for (i = 0; i<10; i++)
 471   2                      {
 472   3                              if (display_ram[i<<3] == 0)
 473   3                              {
 474   4                                      index = i;
 475   4                                      break;
 476   4                              }
 477   3                      }
 478   2      
 479   2                      for (i = 0; i<6; i++)
 480   2                      {
 481   3                              temp[i] = display_ram[((index - 1)<<3) + i];
 482   3                      }
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 9   

 483   2      
 484   2                      for (i = index; i>1; i--)
 485   2                      {
 486   3                              mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 487   3                      }
 488   2                      for (i = 0; i<6; i++)
 489   2                      {
 490   3                              display_ram[i] = temp[i];
 491   3                      }
 492   2                      tm1629_load();
 493   2                      display();
 494   2                      set_logout_cycle_table(0);
 495   2                      if (Two_Menu_F6_E3_temp == 1)
 496   2                      {
 497   3                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
 498   3                      }
 499   2              }
 500   1      }
 501          
 502          void LogoutProcess(void)
 503          {
 504   1              unsigned char i;
 505   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp, Two_Menu_F3_E2_temp, Two_Menu_F3_E1_temp;
 506   1              unsigned char Two_Menu_F6_E1_temp = 0;
 507   1              unsigned char Two_Menu_F6_E2_temp = 0;
 508   1      
 509   1              f5_xunhuan = return_Two_Menu_F5_E1();
 510   1              f4_xiaohao = return_Two_Menu_F4_E1();
 511   1              logout_cycle_table_temp = return_logout_cycle_table();
 512   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 513   1              Two_Menu_F3_E1_temp = return_Two_Menu_F3_E1();
 514   1              Two_Menu_F6_E2_temp = return_Two_Menu_F6_E2();
 515   1              /*ÏúºÅ´¦Àíº¯Êý*/
 516   1              if ((f4_xiaohao<f5_xunhuan&& logout_cycle_table_temp>f4_xiaohao && f5_xunhuan && f4_xiaohao) || (f5_xunhu
             -an == 0 && f4_xiaohao && logout_cycle_table_temp>f4_xiaohao))
 517   1              {
 518   2                      for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 519   2                      {
 520   3                              mcuram_to_mcuram_up(display_ram + (i<<3));
 521   3                      }
 522   2                      for (i = ((Two_Menu_F3_E2_temp - 1)<<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 523   2                      {
 524   3                              display_ram[i] = 0;
 525   3                      }
 526   2                      tm1629_load();
 527   2                      display();
 528   2                      set_logout_cycle_table(0);
 529   2                      if (display_ram[0] == 0)
 530   2                      {
 531   3                              set_func_index(MENU_STANDBY);
 532   3                      }
 533   2                      else if (Two_Menu_F3_E1_temp == 2)
 534   2                      {
 535   3                              for (i = 0; i < Two_Menu_F6_E2_temp; i++)
 536   3                              {
 537   4                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
 538   4                              }
 539   3                      }
 540   2              }
 541   1      }
 542          
 543          
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 10  

 544          
 545          
 546          
 547          void Logout(void)
 548          {
 549   1              unsigned int i;
 550   1              unsigned char Two_Menu_F3_E2_temp= 0;
 551   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 552   1              /*ÏúºÅ´¦Àíº¯Êý*/
 553   1              for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 554   1              {
 555   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 556   2              }
 557   1              for (i = ((Two_Menu_F3_E2_temp - 1) <<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 558   1              {
 559   2                      display_ram[i] = 0;
 560   2              }
 561   1              decoder_num--;
 562   1              tm1629_load();
 563   1              display();
 564   1              if (display_ram[0] == 0)
 565   1              {
 566   2                      set_func_index(MENU_STANDBY);
 567   2              }
 568   1      }
 569          
 570          void CycleUp(void)
 571          {
 572   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 573   1              unsigned char temp[6] = { 0 };
 574   1              index = return_Two_Menu_F3_E2();
 575   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 576   1              /*Ñ­»·´¦Àíº¯Êý*/
 577   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 578   1              {
 579   2                      if (display_ram[i<<3] == 0)
 580   2                      {
 581   3                              index = i;
 582   3                              break;
 583   3                      }
 584   2              }
 585   1              for (i = 0; i<6; i++)
 586   1              {
 587   2                      temp[i] = display_ram[i];
 588   2              }
 589   1              for (i = 0; i<index; i++)
 590   1              {
 591   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 592   2              }
 593   1              for (i = 0; i<6; i++)
 594   1              {
 595   2                      display_ram[((index - 1)<<3) + i] = temp[i];
 596   2              }
 597   1              tm1629_load();
 598   1              display();
 599   1      }
 600          
 601          void CycleDown(void)
 602          {
 603   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 604   1              unsigned char temp[6] = { 0 };
 605   1              index = return_Two_Menu_F3_E2();
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 11  

 606   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 607   1              /*Ñ­»·´¦Àíº¯Êý*/
 608   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 609   1              {
 610   2                      if (display_ram[i<<3] == 0)
 611   2                      {
 612   3                              index = i;
 613   3                              break;
 614   3                      }
 615   2              }
 616   1      
 617   1              for (i = 0; i<6; i++)
 618   1              {
 619   2                      temp[i] = display_ram[((index - 1)<<3) + i];
 620   2              }
 621   1      
 622   1              for (i = index; i>1; i--)
 623   1              {
 624   2                      mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 625   2              }
 626   1              for (i = 0; i<6; i++)
 627   1              {
 628   2                      display_ram[i] = temp[i];
 629   2              }
 630   1              tm1629_load();
 631   1              display();
 632   1      }
 633          
 634          void Cancel_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 635          {
 636   1              /*
 637   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 638   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 639   1              */
 640   1      
 641   1              unsigned int i, index, Two_Menu_F3_E2_temp;
 642   1              unsigned char temp[6] = { 0 };
 643   1              index = return_Two_Menu_F3_E2();
 644   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 645   1      
 646   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 647   1              {
 648   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 649   2                      {
 650   3                              decoder_num--;
 651   3                              index = i;
 652   3                              break;
 653   3                      }
 654   2              }
 655   1              if (index == 0)
 656   1              {
 657   2                      GD5800_stop_music();
 658   2              }
 659   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 660   1              {
 661   2                      mcuram_to_mcuram_up(buff + (i << 3));
 662   2              }
 663   1              if (index != Two_Menu_F3_E2_temp)
 664   1              {
 665   2                      for (i = 0; i<6; i++)
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 12  

 666   2                      {
 667   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 668   3                      }
 669   2              }
 670   1              if (*(buff) == 0)
 671   1              {
 672   2                      set_func_index(MENU_STANDBY);
 673   2              }
 674   1      }
 675          
 676          void Search_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 677          {
 678   1              /*
 679   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 680   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 681   1              */
 682   1      
 683   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 684   1              unsigned char temp[6] = { 0 };
 685   1              index = return_Two_Menu_F3_E2();
 686   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 687   1      
 688   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 689   1              {
 690   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 691   2                      {
 692   3                              decoder_num--;
 693   3                              index = i;
 694   3                              break;
 695   3                      }
 696   2              }
 697   1      
 698   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 699   1              {
 700   2                      mcuram_to_mcuram_up(buff + (i << 3));
 701   2              }
 702   1              if (index != Two_Menu_F3_E2_temp)
 703   1              {
 704   2                      for (i = 0; i<6; i++)
 705   2                      {
 706   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 707   3                      }
 708   2              }
 709   1      }
 710          
 711          
 712          
 713          void fun0(void) //´ý»úÏÔÊ¾º¯Êý
 714          {
 715   1              unsigned char temp = 0;
 716   1              temp = return_Two_Menu_FC_E1();
 717   1              decoder_num = 0;
 718   1              if (temp == 1)
 719   1              {
 720   2                      P55 = 1;
 721   2                      tm1629_await();
 722   2              }
 723   1              else
 724   1              {
 725   2                      Display_time();
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 13  

 726   2              }
 727   1              if (return_Two_Menu_Fb_E1() == 1)
 728   1              {
 729   2                      tm1629_display_buff_clear();
 730   2              }
 731   1              
 732   1      }
 733          
 734          void fun1(void) //Ò»¼¶²Ëµ¥F0
 735          {
 736   1              tm1629_f(0x00);
 737   1      }
 738          
 739          void fun2(void) //Ò»¼¶²Ëµ¥F1
 740          {
 741   1              P55 = 1;
 742   1              tm1629_f(0x01);
 743   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6()== 1)
 744   1              {
 745   2                      GD5800_select_chapter(CUNCHUSHEZHI);
 746   2                      set_sound_table(0);
 747   2              }
 748   1      }
 749          
 750          void fun3(void) //Ò»¼¶²Ëµ¥F2
 751          {
 752   1              tm1629_f(0x02);
 753   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 754   1              {
 755   2                      GD5800_select_chapter_new(SHANGCHUSHEZHI);
 756   2                      set_sound_table(0);
 757   2              }
 758   1      }
 759          
 760          void fun4(void) //Ò»¼¶²Ëµ¥F3
 761          {
 762   1              tm1629_f(0x03);
 763   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 764   1              {
 765   2                      GD5800_select_chapter_new(XIANSHISHEZHI);
 766   2                      set_sound_table(0);
 767   2              }
 768   1      }
 769          
 770          void fun5(void) //Ò»¼¶²Ëµ¥F4
 771          {
 772   1              tm1629_f(0x04);
 773   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 774   1              {
 775   2                      GD5800_select_chapter_new(XIAOHAOSHEZHI);
 776   2                      set_sound_table(0);
 777   2              }
 778   1      }
 779          
 780          void fun6(void) //Ò»¼¶²Ëµ¥F5
 781          {
 782   1              tm1629_f(0x05);
 783   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 784   1              {
 785   2                      GD5800_select_chapter_new(XUNHUANSHEZHI);
 786   2                      set_sound_table(0);
 787   2              }
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 14  

 788   1      }
 789          
 790          void fun7(void) //Ò»¼¶²Ëµ¥F6
 791          {
 792   1              tm1629_f(0x06);
 793   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 794   1              {
 795   2                      GD5800_select_chapter_new(YUYINSHEZHI);
 796   2                      set_sound_table(0);
 797   2              }
 798   1      }
 799          
 800          void fun8(void) //Ò»¼¶²Ëµ¥F7
 801          {
 802   1              tm1629_f(0x07);
 803   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 804   1              {
 805   2                      GD5800_select_chapter_new(JIANPANSHEZHI);
 806   2                      set_sound_table(0);
 807   2              }
 808   1      }
 809          
 810          void fun9(void) //Ò»¼¶²Ëµ¥F8
 811          {
 812   1              tm1629_f(0x08);
 813   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 814   1              {
 815   2                      GD5800_select_chapter_new(ANJIANSHEZHI);
 816   2                      set_sound_table(0);
 817   2              }
 818   1      }
 819          
 820          void fun10(void) //Ò»¼¶²Ëµ¥F9
 821          {
 822   1              tm1629_f(0x09);
 823   1              if(return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 824   1              {
 825   2                      GD5800_select_chapter_new(HUIFUSHEZHI);
 826   2                      set_sound_table(0);
 827   2              }
 828   1      }
 829          
 830          void fun11(void) //Ò»¼¶²Ëµ¥FA
 831          {
 832   1              tm1629_f(0x0a);
 833   1      }
 834          
 835          void fun12(void) //Ò»¼¶²Ëµ¥Fb
 836          {
 837   1              tm1629_f(0x0b);
 838   1      }
 839          
 840          void fun13(void) //Ò»¼¶²Ëµ¥FC
 841          {
 842   1              tm1629_f(0x0c);
 843   1      }
 844          
 845          void fun14(void) //Ò»¼¶²Ëµ¥Fd
 846          {
 847   1              tm1629_f(0x0d);
 848   1              set_fd_table(0);
 849   1              P55 = 1;
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 15  

 850   1      }
 851          
 852          void fun15(void) //ÉèÖÃÄê·Ý
 853          {
 854   1              unsigned char temp;
 855   1              temp = return_Two_Menu_FC_E1();
 856   1              if (temp == 1)//Èç¹ûÎª----  Ôò²»ÈÃ½øÈëF0
 857   1              {
 858   2                      set_func_index(ONE_MENU_F0);
 859   2              }
 860   1              else
 861   1              {
 862   2                      if (return_await_number_table() == 1)
 863   2                      {
 864   3                              Display_time();
 865   3                              set_await_number_table(2);
 866   3                      }
 867   2                      if (return_await_number_table() == 3)
 868   2                      {
 869   3                              buf_display[1][7] = 0;
 870   3                              buf_display[1][6] = 0;
 871   3                              buf_display[1][5] = 0;
 872   3                              buf_display[1][4] = 0;
 873   3                              display();
 874   3                              set_await_number_table(0);
 875   3                      }
 876   2                      Ds1302_Write_Time();
 877   2              }
 878   1      }
 879          
 880          void fun16(void) //ÉèÖÃÔÂ·Ý
 881          {
 882   1              if (return_await_number_table() == 1)
 883   1              {
 884   2                      Display_time();
 885   2                      set_await_number_table(2);
 886   2              }
 887   1              if (return_await_number_table() == 3)
 888   1              {
 889   2                      buf_display[1][2] = 0;
 890   2                      buf_display[1][1] = 0;
 891   2                      display();
 892   2                      set_await_number_table(0);
 893   2              }
 894   1              Ds1302_Write_Time();
 895   1      }
 896          
 897          void fun17(void) //ÉèÖÃÈÕÆÚ
 898          {
 899   1              if (return_await_number_table() == 1)
 900   1              {
 901   2                      Display_time();
 902   2                      set_await_number_table(2);
 903   2              }
 904   1              if (return_await_number_table() == 3)
 905   1              {
 906   2                      buf_display[0][7] = 0;
 907   2                      buf_display[0][6] = 0;
 908   2                      display();
 909   2                      set_await_number_table(0);
 910   2              }
 911   1              Ds1302_Write_Time();
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 16  

 912   1      }
 913          
 914          void fun18(void) //ÉèÖÃÐÇÆÚ
 915          {
 916   1              if (return_await_number_table() == 1)
 917   1              {
 918   2                      Display_time();
 919   2                      set_await_number_table(2);
 920   2              }
 921   1              if (return_await_number_table() == 3)
 922   1              {
 923   2                      buf_display[0][5] = 0;
 924   2                      display();
 925   2                      set_await_number_table(0);
 926   2              }
 927   1              Ds1302_Write_Time();
 928   1      }
 929          
 930          void fun19(void) //ÉèÖÃÐ¡Ê±
 931          {
 932   1              if (return_await_number_table() == 1)
 933   1              {
 934   2                      Display_time();
 935   2                      set_await_number_table(2);
 936   2              }
 937   1              if (return_await_number_table() == 3)
 938   1              {
 939   2                      buf_display[0][3] = 0;
 940   2                      buf_display[0][2] = 0;
 941   2                      display();
 942   2                      set_await_number_table(0);
 943   2              }
 944   1              Ds1302_Write_Time();
 945   1      }
 946          
 947          void fun20(void) //ÉèÖÃ·ÖÖÓ
 948          {
 949   1              if (return_await_number_table() == 1)
 950   1              {
 951   2                      Display_time();
 952   2                      set_await_number_table(2);
 953   2              }
 954   1              if (return_await_number_table() == 3)
 955   1              {
 956   2                      buf_display[0][1] = 0;
 957   2                      buf_display[0][0] = 0;
 958   2                      display();
 959   2                      set_await_number_table(0);
 960   2              }
 961   1              Ds1302_Write_Time();
 962   1      }
 963          
 964          void fun21(void) //¶þ¼¶²Ëµ¥F1-E1
 965          {
 966   1              tm1629_E(0x01);
 967   1              Two_Menu_F1_E1[0] = 0;
 968   1              Two_Menu_F1_E1[1] = 0;
 969   1              Two_Menu_F1_E1[2] = 0;
 970   1              Two_Menu_F1_E1[3] = 1;
 971   1      }
 972          
 973          void fun22(void) //¶þ¼¶²Ëµ¥F1-E2
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 17  

 974          {
 975   1              tm1629_E(0x02);
 976   1              Two_Menu_F1_E2[0] = 0;
 977   1              Two_Menu_F1_E2[1] = 0;
 978   1              Two_Menu_F1_E2[2] = 0;
 979   1              Two_Menu_F1_E2[3] = 1;
 980   1      }
 981          
 982          void fun23(void) //¶þ¼¶²Ëµ¥F1-E3
 983          {
 984   1              tm1629_E(0x03);
 985   1              Two_Menu_F1_E3[0] = 0;
 986   1              Two_Menu_F1_E3[1] = 0;
 987   1              Two_Menu_F1_E3[2] = 0;
 988   1              Two_Menu_F1_E3[3] = 1;
 989   1      }
 990          
 991          void fun24(void) //¶þ¼¶²Ëµ¥F1-E4
 992          {
 993   1              tm1629_E(0x04);
 994   1              Two_Menu_F1_E4[0] = 0;
 995   1              Two_Menu_F1_E4[1] = 0;
 996   1              Two_Menu_F1_E4[2] = 0;
 997   1              Two_Menu_F1_E4[3] = 1;
 998   1      }
 999          
1000          void fun25(void) //¶þ¼¶²Ëµ¥F2-E1
1001          {
1002   1              tm1629_E(0x01);
1003   1              Two_Menu_F2_E1[0] = 0;
1004   1              Two_Menu_F2_E1[1] = 0;
1005   1              Two_Menu_F2_E1[2] = 0;
1006   1              Two_Menu_F2_E1[3] = 1;
1007   1      }
1008          
1009          void fun26(void) //¶þ¼¶²Ëµ¥F2-E2
1010          {
1011   1              tm1629_E(0x02);
1012   1              Two_Menu_F2_E2[0] = 0;
1013   1              Two_Menu_F2_E2[1] = 0;
1014   1              Two_Menu_F2_E2[2] = 0;
1015   1              Two_Menu_F2_E2[3] = 1;
1016   1      }
1017          
1018          void fun27(void) //¶þ¼¶²Ëµ¥F2-E3
1019          {
1020   1              tm1629_E(0x03);
1021   1              Two_Menu_F2_E3[0] = 0;
1022   1              Two_Menu_F2_E3[1] = 0;
1023   1              Two_Menu_F2_E3[2] = 0;
1024   1              Two_Menu_F2_E3[3] = 1;
1025   1      }
1026          
1027          void fun28(void) //¶þ¼¶²Ëµ¥F2-E4
1028          {
1029   1              tm1629_E(0x04);
1030   1              Two_Menu_F2_E4[0] = 0;
1031   1              Two_Menu_F2_E4[1] = 0;
1032   1              Two_Menu_F2_E4[2] = 0;
1033   1              Two_Menu_F2_E4[3] = 1;
1034   1      }
1035          
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 18  

1036          void fun29(void) //¶þ¼¶²Ëµ¥F3-E1
1037          {
1038   1              tm1629_E(0x01);
1039   1      }
1040          
1041          void fun30(void) //¶þ¼¶²Ëµ¥F3-E2
1042          {
1043   1              tm1629_E(0x02);
1044   1      }
1045          
1046          void fun31(void) //¶þ¼¶²Ëµ¥F4
1047          {
1048   1              unsigned char temp = 0;
1049   1              temp = return_Two_Menu_F4_E1();
1050   1              Show_two_number(temp);
1051   1      }
1052          
1053          void fun32(void) //¶þ¼¶²Ëµ¥F5
1054          {
1055   1              unsigned char temp = 0;
1056   1              temp = return_Two_Menu_F5_E1();
1057   1              Show_two_number(temp);
1058   1      }
1059          
1060          void fun33(void) //¶þ¼¶²Ëµ¥F6-E1
1061          {
1062   1              tm1629_E(0x01);
1063   1      }
1064          
1065          void fun34(void) //¶þ¼¶²Ëµ¥F6-E2
1066          {
1067   1              tm1629_E(0x02);
1068   1      }
1069          
1070          void fun35(void) //¶þ¼¶²Ëµ¥F6-E3
1071          {
1072   1              tm1629_E(0x03);
1073   1      }
1074          
1075          void fun36(void) //¶þ¼¶²Ëµ¥F6-E4
1076          {
1077   1              tm1629_E(0x04);
1078   1      }
1079          
1080          void fun37(void) //¶þ¼¶²Ëµ¥F6-E5
1081          {
1082   1              tm1629_E(0x05);
1083   1      }
1084          
1085          void fun38(void) //¶þ¼¶²Ëµ¥F7-E1
1086          {
1087   1              tm1629_E(0x01);
1088   1      }
1089          
1090          void fun39(void) //¶þ¼¶²Ëµ¥F7-E2
1091          {
1092   1              tm1629_E(0x02);
1093   1      }
1094          
1095          void fun40(void) //¶þ¼¶²Ëµ¥F7-E3
1096          {
1097   1              tm1629_E(0x03);
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 19  

1098   1      }
1099          
1100          void fun41(void) //¶þ¼¶²Ëµ¥F7-E4
1101          {
1102   1              tm1629_E(0x04);
1103   1      }
1104          
1105          void fun42(void) //¶þ¼¶²Ëµ¥F8-E1
1106          {
1107   1              tm1629_E(0x01);
1108   1              Two_Menu_F8_E1_save = return_Two_Menu_F8_E1();
1109   1      }
1110          
1111          void fun43(void) //¶þ¼¶²Ëµ¥F8-E2
1112          {
1113   1              tm1629_E(0x02);
1114   1      }
1115          
1116          void fun44(void) //¶þ¼¶²Ëµ¥F9-E1
1117          {
1118   1              tm1629_E(0x01);
1119   1      }
1120          
1121          void fun45(void) //¶þ¼¶²Ëµ¥F9-E2
1122          {
1123   1              tm1629_E(0x02);
1124   1      }
1125          
1126          void fun46(void) //¶þ¼¶²Ëµ¥FA
1127          {
1128   1              unsigned int measure_sync_saved_temp = 0;
1129   1              unsigned int show_temp = 0;
1130   1      
1131   1                      measure_sync_saved_temp = return_RF_trans_count();
1132   1                      show_temp = 10000 / measure_sync_saved_temp;
1133   1                      Show_three_number(show_temp);
1134   1      
1135   1      //              uart_printf("measure_sync_saved_tempÎª %d ! \n\r", measure_sync_saved_temp);
1136   1      //              uart_printf("show_tempÎª %d ! \n\r", show_temp);
1137   1      
1138   1      }
1139          
1140          
1141          void fun47(void) //¶þ¼¶²Ëµ¥Fb
1142          {
1143   1              unsigned char temp = 0;
1144   1              temp = return_Two_Menu_Fb_E1();
1145   1              Show_one_number(temp);
1146   1      }
1147          
1148          void fun48(void) //¶þ¼¶²Ëµ¥FC
1149          {
1150   1              unsigned char temp = 0;
1151   1              temp = return_Two_Menu_FC_E1();
1152   1              Show_one_number(temp);
1153   1      }
1154          
1155          void fun49(void) //¶þ¼¶²Ëµ¥Fd
1156          {
1157   1              unsigned char temp;
1158   1              temp = return_fd_table();
1159   1              if (temp <= 20)
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 20  

1160   1              {
1161   2                      if (temp < 4)
1162   2                      {
1163   3                              display_light(0xff);
1164   3                      }
1165   2                      else if (temp <= 18)
1166   2                      {
1167   3                              display_light(INIT_CODE[temp / 2 - 2]);
1168   3                      }
1169   2                      else
1170   2                      {
1171   3                              display_light(0xff);
1172   3                      }
1173   2                      if (P24 == 1)
1174   2                      {
1175   3                              GD5800_select_chapter(YINGYUEYI);
1176   3                      }
1177   2              }
1178   1              if (temp >20)
1179   1              {
1180   2                      tm1629_clear();
1181   2                      display();
1182   2              }
1183   1              P55 = 0;
1184   1      }
1185          
1186          void fun50(void) //F1_E1 Ç§Î»ÉÁË¸
1187          {
1188   1              if (return_await_number_table() == 1)
1189   1              {
1190   2                      Show_four_number(Two_Menu_F1_E1);
1191   2                      set_await_number_table(2);
1192   2              }
1193   1              if (return_await_number_table() == 3)
1194   1              {
1195   2                      buf_display[0][3] = 0;
1196   2                      display();
1197   2                      set_await_number_table(0);
1198   2              }
1199   1      }
1200          
1201          void fun51(void) //F1_E1 °ÙÎ»ÉÁË¸
1202          {
1203   1              if (return_await_number_table() == 1)
1204   1              {
1205   2                      Show_four_number(Two_Menu_F1_E1);
1206   2                      set_await_number_table(2);
1207   2              }
1208   1              if (return_await_number_table() == 3)
1209   1              {
1210   2                      buf_display[0][2] = 0;
1211   2                      display();
1212   2                      set_await_number_table(0);
1213   2              }
1214   1      }
1215          
1216          void fun52(void)  //F1_E1 Ê®Î»ÉÁË¸
1217          {
1218   1              if (return_await_number_table() == 1)
1219   1              {
1220   2                      Show_four_number(Two_Menu_F1_E1);
1221   2                      set_await_number_table(2);
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 21  

1222   2              }
1223   1              if (return_await_number_table() == 3)
1224   1              {
1225   2                      buf_display[0][1] = 0;
1226   2                      display();
1227   2                      set_await_number_table(0);
1228   2              }
1229   1      }
1230          
1231          void fun53(void) //F1_E1 ¸öÎ»ÉÁË¸
1232          {
1233   1              if (return_await_number_table() == 1)
1234   1              {
1235   2                      Show_four_number(Two_Menu_F1_E1);
1236   2                      set_await_number_table(2);
1237   2              }
1238   1              if (return_await_number_table() == 3)
1239   1              {
1240   2                      buf_display[0][0] = 0;
1241   2                      display();
1242   2                      set_await_number_table(0);
1243   2              }
1244   1      }
1245          
1246          void fun54(void) //F1_E2 Ç§Î»ÉÁË¸
1247          {
1248   1              if (return_await_number_table() == 1)
1249   1              {
1250   2                      Show_four_number(Two_Menu_F1_E2);
1251   2                      set_await_number_table(2);
1252   2              }
1253   1              if (return_await_number_table() == 3)
1254   1              {
1255   2                      buf_display[0][3] = 0;
1256   2                      display();
1257   2                      set_await_number_table(0);
1258   2              }
1259   1      }
1260          
1261          void fun55(void) //F1_E2 °ÙÎ»ÉÁË¸
1262          {
1263   1              if (return_await_number_table() == 1)
1264   1              {
1265   2                      Show_four_number(Two_Menu_F1_E2);
1266   2                      set_await_number_table(2);
1267   2              }
1268   1              if (return_await_number_table() == 3)
1269   1              {
1270   2                      buf_display[0][2] = 0;
1271   2                      display();
1272   2                      set_await_number_table(0);
1273   2              }
1274   1      }
1275          
1276          void fun56(void) //F1_E2 Ê®Î»ÉÁË¸
1277          {
1278   1              if (return_await_number_table() == 1)
1279   1              {
1280   2                      Show_four_number(Two_Menu_F1_E2);
1281   2                      set_await_number_table(2);
1282   2              }
1283   1              if (return_await_number_table() == 3)
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 22  

1284   1              {
1285   2                      buf_display[0][1] = 0;
1286   2                      display();
1287   2                      set_await_number_table(0);
1288   2              }
1289   1      }
1290          
1291          void fun57(void) //F1_E2 ¸öÎ»ÉÁË¸
1292          {
1293   1              if (return_await_number_table() == 1)
1294   1              {
1295   2                      Show_four_number(Two_Menu_F1_E2);
1296   2                      set_await_number_table(2);
1297   2              }
1298   1              if (return_await_number_table() == 3)
1299   1              {
1300   2                      buf_display[0][0] = 0;
1301   2                      display();
1302   2                      set_await_number_table(0);
1303   2              }
1304   1      }
1305          
1306          void fun58(void) //F1_E3 Ç§Î»ÉÁË¸
1307          {
1308   1              if (return_await_number_table() == 1)
1309   1              {
1310   2                      Show_four_number(Two_Menu_F1_E3);
1311   2                      set_await_number_table(2);
1312   2              }
1313   1              if (return_await_number_table() == 3)
1314   1              {
1315   2                      buf_display[0][3] = 0;
1316   2                      display();
1317   2                      set_await_number_table(0);
1318   2              }
1319   1      }
1320          
1321          void fun59(void) //F1_E3 °ÙÎ»ÉÁË¸
1322          {
1323   1              if (return_await_number_table() == 1)
1324   1              {
1325   2                      Show_four_number(Two_Menu_F1_E3);
1326   2                      set_await_number_table(2);
1327   2              }
1328   1              if (return_await_number_table() == 3)
1329   1              {
1330   2                      buf_display[0][2] = 0;
1331   2                      display();
1332   2                      set_await_number_table(0);
1333   2              }
1334   1      }
1335          
1336          void fun60(void) //F1_E3 Ê®Î»ÉÁË¸
1337          {
1338   1              if (return_await_number_table() == 1)
1339   1              {
1340   2                      Show_four_number(Two_Menu_F1_E3);
1341   2                      set_await_number_table(2);
1342   2              }
1343   1              if (return_await_number_table() == 3)
1344   1              {
1345   2                      buf_display[0][1] = 0;
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 23  

1346   2                      display();
1347   2                      set_await_number_table(0);
1348   2              }
1349   1      }
1350          
1351          void fun61(void) //F1_E3 ¸öÎ»ÉÁË¸
1352          {
1353   1              if (return_await_number_table() == 1)
1354   1              {
1355   2                      Show_four_number(Two_Menu_F1_E3);
1356   2                      set_await_number_table(2);
1357   2              }
1358   1              if (return_await_number_table() == 3)
1359   1              {
1360   2                      buf_display[0][0] = 0;
1361   2                      display();
1362   2                      set_await_number_table(0);
1363   2              }
1364   1      }
1365          
1366          void fun62(void) //F1_E4 Ç§Î»ÉÁË¸
1367          {
1368   1              if (return_await_number_table() == 1)
1369   1              {
1370   2                      Show_four_number(Two_Menu_F1_E4);
1371   2                      set_await_number_table(2);
1372   2              }
1373   1              if (return_await_number_table() == 3)
1374   1              {
1375   2                      buf_display[0][3] = 0;
1376   2                      display();
1377   2                      set_await_number_table(0);
1378   2              }
1379   1      }
1380          
1381          void fun63(void) //F1_E4 °ÙÎ»ÉÁË¸
1382          {
1383   1              if (return_await_number_table() == 1)
1384   1              {
1385   2                      Show_four_number(Two_Menu_F1_E4);
1386   2                      set_await_number_table(2);
1387   2              }
1388   1              if (return_await_number_table() == 3)
1389   1              {
1390   2                      buf_display[0][2] = 0;
1391   2                      display();
1392   2                      set_await_number_table(0);
1393   2              }
1394   1      }
1395          
1396          void fun64(void) //F1_E4 Ê®Î»ÉÁË¸
1397          {
1398   1              if (return_await_number_table() == 1)
1399   1              {
1400   2                      Show_four_number(Two_Menu_F1_E4);
1401   2                      set_await_number_table(2);
1402   2              }
1403   1              if (return_await_number_table() == 3)
1404   1              {
1405   2                      buf_display[0][1] = 0;
1406   2                      display();
1407   2                      set_await_number_table(0);
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 24  

1408   2              }
1409   1      }
1410          
1411          void fun65(void) //F1_E4 ¸öÎ»ÉÁË¸
1412          {
1413   1              if (return_await_number_table() == 1)
1414   1              {
1415   2                      Show_four_number(Two_Menu_F1_E4);
1416   2                      set_await_number_table(2);
1417   2              }
1418   1              if (return_await_number_table() == 3)
1419   1              {
1420   2                      buf_display[0][0] = 0;
1421   2                      display();
1422   2                      set_await_number_table(0);
1423   2              }
1424   1      }
1425          
1426          void fun66(void) //F2_E1 Ç§Î»ÉÁË¸
1427          {
1428   1              if (return_await_number_table() == 1)
1429   1              {
1430   2                      Show_four_number(Two_Menu_F2_E1);
1431   2                      set_await_number_table(2);
1432   2              }
1433   1              if (return_await_number_table() == 3)
1434   1              {
1435   2                      buf_display[0][3] = 0;
1436   2                      display();
1437   2                      set_await_number_table(0);
1438   2              }
1439   1      }
1440          
1441          void fun67(void) //F2_E1 °ÙÎ»ÉÁË¸
1442          {
1443   1              if (return_await_number_table() == 1)
1444   1              {
1445   2                      Show_four_number(Two_Menu_F2_E1);
1446   2                      set_await_number_table(2);
1447   2              }
1448   1              if (return_await_number_table() == 3)
1449   1              {
1450   2                      buf_display[0][2] = 0;
1451   2                      display();
1452   2                      set_await_number_table(0);
1453   2              }
1454   1      }
1455          
1456          void fun68(void) //F2_E1 Ê®Î»ÉÁË¸
1457          {
1458   1              if (return_await_number_table() == 1)
1459   1              {
1460   2                      Show_four_number(Two_Menu_F2_E1);
1461   2                      set_await_number_table(2);
1462   2              }
1463   1              if (return_await_number_table() == 3)
1464   1              {
1465   2                      buf_display[0][1] = 0;
1466   2                      display();
1467   2                      set_await_number_table(0);
1468   2              }
1469   1      }
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 25  

1470          
1471          void fun69(void) //F2_E1 ¸öÎ»ÉÁË¸
1472          {
1473   1              if (return_await_number_table() == 1)
1474   1              {
1475   2                      Show_four_number(Two_Menu_F2_E1);
1476   2                      set_await_number_table(2);
1477   2              }
1478   1              if (return_await_number_table() == 3)
1479   1              {
1480   2                      buf_display[0][0] = 0;
1481   2                      display();
1482   2                      set_await_number_table(0);
1483   2              }
1484   1      }
1485          
1486          void fun70(void) //F2_E2 Ç§Î»ÉÁË¸
1487          {
1488   1              if (return_await_number_table() == 1)
1489   1              {
1490   2                      Show_four_number(Two_Menu_F2_E2);
1491   2                      set_await_number_table(2);
1492   2              }
1493   1              if (return_await_number_table() == 3)
1494   1              {
1495   2                      buf_display[0][3] = 0;
1496   2                      display();
1497   2                      set_await_number_table(0);
1498   2              }
1499   1      }
1500          
1501          void fun71(void) //F2_E2 °ÙÎ»ÉÁË¸
1502          {
1503   1              if (return_await_number_table() == 1)
1504   1              {
1505   2                      Show_four_number(Two_Menu_F2_E2);
1506   2                      set_await_number_table(2);
1507   2              }
1508   1              if (return_await_number_table() == 3)
1509   1              {
1510   2                      buf_display[0][2] = 0;
1511   2                      display();
1512   2                      set_await_number_table(0);
1513   2              }
1514   1      }
1515          
1516          void fun72(void) //F2_E2 Ê®Î»ÉÁË¸
1517          {
1518   1              if (return_await_number_table() == 1)
1519   1              {
1520   2                      Show_four_number(Two_Menu_F2_E2);
1521   2                      set_await_number_table(2);
1522   2              }
1523   1              if (return_await_number_table() == 3)
1524   1              {
1525   2                      buf_display[0][1] = 0;
1526   2                      display();
1527   2                      set_await_number_table(0);
1528   2              }
1529   1      }
1530          
1531          void fun73(void) //F2_E2 ¸öÎ»ÉÁË¸
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 26  

1532          {
1533   1              if (return_await_number_table() == 1)
1534   1              {
1535   2                      Show_four_number(Two_Menu_F2_E2);
1536   2                      set_await_number_table(2);
1537   2              }
1538   1              if (return_await_number_table() == 3)
1539   1              {
1540   2                      buf_display[0][0] = 0;
1541   2                      display();
1542   2                      set_await_number_table(0);
1543   2              }
1544   1      }
1545          
1546          void fun74(void) //F2_E3 Ç§Î»ÉÁË¸
1547          {
1548   1              if (return_await_number_table() == 1)
1549   1              {
1550   2                      Show_four_number(Two_Menu_F2_E3);
1551   2                      set_await_number_table(2);
1552   2              }
1553   1              if (return_await_number_table() == 3)
1554   1              {
1555   2                      buf_display[0][3] = 0;
1556   2                      display();
1557   2                      set_await_number_table(0);
1558   2              }
1559   1      }
1560          
1561          void fun75(void) //F2_E3 °ÙÎ»ÉÁË¸
1562          {
1563   1              if (return_await_number_table() == 1)
1564   1              {
1565   2                      Show_four_number(Two_Menu_F2_E3);
1566   2                      set_await_number_table(2);
1567   2              }
1568   1              if (return_await_number_table() == 3)
1569   1              {
1570   2                      buf_display[0][2] = 0;
1571   2                      display();
1572   2                      set_await_number_table(0);
1573   2              }
1574   1      }
1575          
1576          void fun76(void) //F2_E3 Ê®Î»ÉÁË¸
1577          {
1578   1              if (return_await_number_table() == 1)
1579   1              {
1580   2                      Show_four_number(Two_Menu_F2_E3);
1581   2                      set_await_number_table(2);
1582   2              }
1583   1              if (return_await_number_table() == 3)
1584   1              {
1585   2                      buf_display[0][1] = 0;
1586   2                      display();
1587   2                      set_await_number_table(0);
1588   2              }
1589   1      }
1590          
1591          void fun77(void) //F2_E3 ¸öÎ»ÉÁË¸
1592          {
1593   1              if (return_await_number_table() == 1)
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 27  

1594   1              {
1595   2                      Show_four_number(Two_Menu_F2_E3);
1596   2                      set_await_number_table(2);
1597   2              }
1598   1              if (return_await_number_table() == 3)
1599   1              {
1600   2                      buf_display[0][0] = 0;
1601   2                      display();
1602   2                      set_await_number_table(0);
1603   2              }
1604   1      }
1605          
1606          void fun78(void) //F2_E4 Ç§Î»ÉÁË¸
1607          {
1608   1              if (return_await_number_table() == 1)
1609   1              {
1610   2                      Show_four_number(Two_Menu_F2_E4);
1611   2                      set_await_number_table(2);
1612   2              }
1613   1              if (return_await_number_table() == 3)
1614   1              {
1615   2                      buf_display[0][3] = 0;
1616   2                      display();
1617   2                      set_await_number_table(0);
1618   2              }
1619   1      }
1620          
1621          void fun79(void) //F2_E4 °ÙÎ»ÉÁË¸
1622          {
1623   1              if (return_await_number_table() == 1)
1624   1              {
1625   2                      Show_four_number(Two_Menu_F2_E4);
1626   2                      set_await_number_table(2);
1627   2              }
1628   1              if (return_await_number_table() == 3)
1629   1              {
1630   2                      buf_display[0][2] = 0;
1631   2                      display();
1632   2                      set_await_number_table(0);
1633   2              }
1634   1      }
1635          
1636          void fun80(void) //F2_E4 Ê®Î»ÉÁË¸
1637          {
1638   1              if (return_await_number_table() == 1)
1639   1              {
1640   2                      Show_four_number(Two_Menu_F2_E4);
1641   2                      set_await_number_table(2);
1642   2              }
1643   1              if (return_await_number_table() == 3)
1644   1              {
1645   2                      buf_display[0][1] = 0;
1646   2                      display();
1647   2                      set_await_number_table(0);
1648   2              }
1649   1      }
1650          
1651          void fun81(void) //F2_E4 ¸öÎ»ÉÁË¸
1652          {
1653   1              if (return_await_number_table() == 1)
1654   1              {
1655   2                      Show_four_number(Two_Menu_F2_E4);
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 28  

1656   2                      set_await_number_table(2);
1657   2              }
1658   1              if (return_await_number_table() == 3)
1659   1              {
1660   2                      buf_display[0][0] = 0;
1661   2                      display();
1662   2                      set_await_number_table(0);
1663   2              }
1664   1      }
1665          
1666          void fun82(void) //ÏÔÊ¾¼´Ê±ÏÔÊ¾ »¹ÊÇÑ­»·ÏÔÊ¾
1667          {
1668   1              unsigned char temp=0;
1669   1              temp = return_Two_Menu_F3_E1();
1670   1              Show_one_number(temp);
1671   1      }
1672          
1673          void fun83(void) //¶ÓÁÐ´æ´¢¸öÊý
1674          {
1675   1              unsigned char temp = 0;
1676   1              temp = return_Two_Menu_F3_E2();
1677   1              Show_two_number(temp);
1678   1      }
1679          
1680          void fun84(void) //F6_E1ÓïÒôÑ¡Ôñ
1681          {
1682   1              unsigned char temp = 0;
1683   1              temp = return_Two_Menu_F6_E1();
1684   1              Show_one_number(temp);
1685   1      }
1686          
1687          void fun85(void) //F6_E2ÓïÒô±¨¶Á´ÎÊý
1688          {
1689   1              unsigned char temp = 0;
1690   1              temp = return_Two_Menu_F6_E2();
1691   1              Show_one_number(temp);
1692   1      }
1693          
1694          void fun86(void) //F6_E3Ñ­»·Ê±ºòÊÇ·ñ±¨¶Á
1695          {
1696   1              unsigned char temp = 0;
1697   1              temp = return_Two_Menu_F6_E3();
1698   1              Show_one_number(temp);
1699   1      }
1700          
1701          void fun87(void) //F6_E4ÒôÁ¿´óÐ¡µ÷Õû
1702          {
1703   1              unsigned char temp = 0;
1704   1              temp = return_Two_Menu_F6_E4();
1705   1              GD5800_sound_volume(temp * 3);
1706   1              Show_one_number(temp);
1707   1      }
1708          
1709          void fun88(void) //F6_E5ÆÁÄ»ÁÁ¶Èµ÷Õû
1710          {
1711   1              unsigned char temp = 0;
1712   1              temp = return_Two_Menu_F6_E5();
1713   1              Show_one_number(temp);
1714   1      }
1715          
1716          void fun89(void) //F7_E1 999*9
1717          {
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 29  

1718   1              unsigned char temp = 0;
1719   1              temp = return_Two_Menu_F7_E1();
1720   1              if (temp < 10)
1721   1              {
1722   2                      Show_one_number(temp);
1723   2              }
1724   1              else
1725   1              {
1726   2                      Show_off();
1727   2              }
1728   1      }
1729          
1730          void fun90(void) //F7_E2 9999*9
1731          {
1732   1              unsigned char temp = 0;
1733   1              temp = return_Two_Menu_F7_E2();
1734   1              Show_one_number(temp);
1735   1      }
1736          
1737          void fun91(void) //F7_E3 999*99
1738          {
1739   1              unsigned char temp = 0;
1740   1              temp = return_Two_Menu_F7_E3();
1741   1              Show_one_number(temp);
1742   1      }
1743          
1744          void fun92(void) //F7_E4 9999*99
1745          {
1746   1              unsigned char temp = 0;
1747   1              temp = return_Two_Menu_F7_E4();
1748   1              Show_one_number(temp);
1749   1      }
1750          
1751          void fun93(void) //F8_E1µ¥¼üÎ»¸ú¶à¼üÎ»ÇÐ»»
1752          {
1753   1              unsigned char temp = 0;
1754   1              temp = return_Two_Menu_F8_E1();
1755   1              Show_one_number(temp);
1756   1              if (temp != Two_Menu_F8_E1_save)
1757   1              {
1758   2                      Delete_all_data();
1759   2                      Two_Menu_F8_E1_save = temp;
1760   2                      if (return_sound_table() == 1)
1761   2                      {
1762   3                              GD5800_select_chapter(CHENGGONG);
1763   3      
1764   3                              set_sound_table(0);
1765   3                      }
1766   2              }
1767   1      }
1768          
1769          void fun94(void) //F8_E2¼üÎ»ÉèÖÃ
1770          {
1771   1              unsigned char temp = 0;
1772   1              temp = return_Two_Menu_F8_E2();
1773   1              Show_two_number(temp);
1774   1              if (return_sound_table() == 1 )
1775   1              {
1776   2                      GD5800_select_chapter_new(temp + QUXIAO);
1777   2              }
1778   1              if (return_Two_menu_set_success() == 1)
1779   1              {
C51 COMPILER V9.00   TM1629                                                                11/06/2015 18:06:50 PAGE 30  

1780   2                      GD5800_select_chapter_new(CHENGGONG);
1781   2                      set_Two_menu_set_success(0);
1782   2              }
1783   1      }
1784          
1785          void fun95(void) //½âÂë²Ëµ¥
1786          {
1787   1              unsigned char Two_Menu_F6_E1_temp = 0;
1788   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
1789   1              //tm1629_load();
1790   1              //display();
1791   1      
1792   1              if (  display_ram[0] == BAOJING_1)
1793   1              {
1794   2                      if (P24 == 1)
1795   2                      {
1796   3                              GD5800_select_chapter(BAOJING);
1797   3                      }       
1798   2              }
1799   1              P55 = 1;//ÃëÕëÃð
1800   1              
1801   1      }
1802          
1803          void fun96(void) //¶þ¼¶²Ëµ¥F6-E6
1804          {
1805   1              tm1629_E(0x06);
1806   1      }
1807          
1808          void fun97(void) //¶þ¼¶²Ëµ¥F6-E6
1809          {
1810   1              unsigned char temp = 0;
1811   1              temp = return_Two_Menu_F6_E6();
1812   1              Show_one_number(temp);
1813   1      }
1814          
1815          void fun98(void) //¶þ¼¶²Ëµ¥F6-E7
1816          {
1817   1              tm1629_E(0x07);
1818   1      }
1819          
1820          void fun99(void) //¶þ¼¶²Ëµ¥F6-E7
1821          {
1822   1              unsigned char temp = 0;
1823   1              temp = return_Two_Menu_F6_E7();
1824   1              Show_one_number(temp);
1825   1      }
1826          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   7106    ----
   CONSTANT SIZE    =     32    ----
   XDATA SIZE       =    913      87
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
