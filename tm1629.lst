C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE TM1629
OBJECT MODULE PLACED IN tm1629.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Receiver\tm1629.c LARGE BROWSE INCDIR(.\Receiver) DEBUG OBJECTEXTEND PRINT(
                    -.\tm1629.lst) OBJECT(tm1629.obj)

line level    source

   1          #include "tm1629.h"
   2          #include "timer.h"
   3          #include "usart.h"
   4          #include "ds1302.h"
   5          #include "key.h"
   6          #include "menu.h"
   7          #include "gd5800.h"
   8          #include "at24c256.h"
   9          #include "ev1527.h"
  10          #include "decoder.h"
  11          
  12          unsigned char const CODE[] = { 0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F, 0x77, 0x7C, 0x3
             -9, 0x5E, 0x79, 0x71, 0x76, 0x38, 0x5c, 0x73, 0x3e };//0-9 abcdef ÏÔÊ¾Æ÷ÂëÊý×é
  13          unsigned char const INIT_CODE[] = { 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80 };//Öð¶ÎµãÁÁÊýÂë¹ÜÊý×é
  14          unsigned char const SHANGSHUO[] = { 0x40, 0x00 }; // µãÁÁÊýÂë¹ÜÖÐ¼ä¶ÎÒÔ¼°Ãð
  15          unsigned char buf_display[6][8] = { 0 }; //3¸öTM1629ÏÔ´æÊý×é
  16          unsigned char display_ram[800] = { 0 }; //³ÌÐòÔËÐÐÊ±¼ÇÂ¼ÏÔÊ¾Êý¾ÝµÄÄÚ´æ 
  17          unsigned char await_time_table= 0 ;//ÓÃÓÚ¼ÇÂ¼´ý»úÏÔÊ¾ºá¸ÜÊýÂë¹Ü´ÎÊý 
  18          unsigned char Two_Menu_F8_E1_save =0;
  19          
  20          unsigned char single_key[16]   = { 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
             - 0x01, 0x01, 0x01, 0x01 };//µ¥¼üÎ»ÉèÖÃ´æ´¢Êý×é
  21          unsigned char multiple_key[16] = { 0x01, QUXIAO-QUXIAO, JIEZHANG-QUXIAO, DIANDANG-QUXIAO, JIUSHUI-QUXIAO, 
             -0X01, 0x01, JIASHUI-QUXIAO, HUJIAO - QUXIAO, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01 };//¶à¼üÎ»ÉèÖÃ´æ´¢Êý×é
  22          
  23          void writeDataTo1629(unsigned char p) //Ð´Êý¾Ý¸øµÚÒ»¸öTM1629
  24          {
  25   1              unsigned int i;
  26   1              TM1629_STB = 0;
  27   1              for (i = 0; i<8; i++)
  28   1              {
  29   2                      TM1629_CLK = 0;
  30   2                      if (p & 0x01)
  31   2                              TM1629_DIO = 1;
  32   2                      else
  33   2                              TM1629_DIO = 0;
  34   2                      _nop_();
  35   2                      _nop_();
  36   2                      _nop_();
  37   2                      _nop_();
  38   2                      TM1629_CLK = 1;
  39   2                      p = p >> 1;
  40   2              }
  41   1              TM1629_CLK = 0;
  42   1              TM1629_DIO = 0;
  43   1      }
  44          
  45          void writeDataTo1629_2(unsigned char p) //Ð´Êý¾Ý¸øµÚ¶þ¸öTM1629
  46          {
  47   1              unsigned int i;
  48   1              TM1629_STB2 = 0;
  49   1              for (i = 0; i<8; i++)
  50   1              {
  51   2                      TM1629_CLK = 0;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 2   

  52   2                      if (p & 0x01)
  53   2                              TM1629_DIO = 1;
  54   2                      else
  55   2                              TM1629_DIO = 0;
  56   2                      _nop_();
  57   2                      _nop_();
  58   2                      _nop_();
  59   2                      _nop_();
  60   2                      TM1629_CLK = 1;
  61   2                      p = p >> 1;
  62   2              }
  63   1              TM1629_CLK = 0;
  64   1              TM1629_DIO = 0;
  65   1      }
  66          
  67          void writeDataTo1629_3(unsigned char p) //Ð´Êý¾Ý¸øµÚÈý¸öTM1629
  68          {
  69   1              unsigned int i;
  70   1              TM1629_STB3 = 0;
  71   1              for (i = 0; i<8; i++)
  72   1              {
  73   2                      TM1629_CLK = 0;
  74   2                      if (p & 0x01)
  75   2                              TM1629_DIO = 1;
  76   2                      else
  77   2                              TM1629_DIO = 0;
  78   2                      _nop_();
  79   2                      _nop_();
  80   2                      _nop_();
  81   2                      _nop_();
  82   2                      TM1629_CLK = 1;
  83   2                      p = p >> 1;
  84   2              }
  85   1              TM1629_CLK = 0;
  86   1              TM1629_DIO = 0;
  87   1      }
  88          
  89          void send_command(unsigned char word) //Ð´ÃüÁî¸øµÚÒ»¸öTM1629
  90          {
  91   1              TM1629_STB = 1;
  92   1              nop;
  93   1              TM1629_STB = 0;
  94   1              writeDataTo1629(word);
  95   1      }
  96          
  97          void send_command_2(unsigned char word) //Ð´ÃüÁî¸øµÚ¶þ¸öTM1629
  98          {
  99   1              TM1629_STB2 = 1;
 100   1              nop;
 101   1              TM1629_STB2 = 0;
 102   1              writeDataTo1629_2(word);
 103   1      }
 104          
 105          void send_command_3(unsigned char word) //Ð´ÃüÁî¸øµÚÈý¸öTM1629
 106          {
 107   1              TM1629_STB3 = 1;
 108   1              nop;
 109   1              TM1629_STB3 = 0;
 110   1              writeDataTo1629_3(word);
 111   1      }
 112          
 113          void display(void) //3¸öTM1629ÏÔÊ¾º¯Êý
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 3   

 114          {
 115   1              unsigned char i,temp;
 116   1              temp = return_Two_Menu_F6_E5();
 117   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 118   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 119   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 120   1              {
 121   2                      writeDataTo1629(buf_display[0][i]);
 122   2                      writeDataTo1629(buf_display[1][i]);
 123   2              }
 124   1              send_command(0x88 + temp);      //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 125   1              TM1629_STB = 1;
 126   1      
 127   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 128   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 129   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 130   1              {
 131   2                      writeDataTo1629_2(buf_display[2][i]);
 132   2                      writeDataTo1629_2(buf_display[3][i]);
 133   2              }
 134   1              send_command_2(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 135   1              TM1629_STB2 = 1;
 136   1      
 137   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 138   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 139   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 140   1              {
 141   2                      writeDataTo1629_3(buf_display[4][i]);
 142   2                      writeDataTo1629_3(buf_display[5][i]);
 143   2              }
 144   1              send_command_3(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 145   1              TM1629_STB3 = 1;
 146   1      }
 147          
 148          void display_light(unsigned char temp) //3¸öTM1629ÏÔÊ¾º¯Êý
 149          {
 150   1              unsigned char i;
 151   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 152   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 153   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 154   1              {
 155   2                      writeDataTo1629(temp);
 156   2                      writeDataTo1629(temp);
 157   2              }
 158   1              send_command(0x8f);     //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 159   1              TM1629_STB = 1;
 160   1      
 161   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 162   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 163   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 164   1              {
 165   2                      writeDataTo1629_2(temp);
 166   2                      writeDataTo1629_2(temp);
 167   2              }
 168   1              send_command_2(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 169   1              TM1629_STB2 = 1;
 170   1      
 171   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 172   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 173   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 174   1              {
 175   2                      writeDataTo1629_3(temp);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 4   

 176   2                      writeDataTo1629_3(temp);
 177   2              }
 178   1              send_command_3(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 179   1              TM1629_STB3 = 1;
 180   1      }
 181          
 182          void tm1629_init(void) //TM1629¿ª»ú³õÊ¼»¯º¯Êý
 183          {
 184   1              unsigned char i, j, k;          //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
 185   1              for (k = 0; k<8; k++)
 186   1              {
 187   2                      for (i = 0; i<6; i++)
 188   2                      {
 189   3                              for (j = 0; j<8; j++)
 190   3                              {
 191   4                                      buf_display[i][j] = INIT_CODE[k];
 192   4                              }
 193   3                      }
 194   2                      display();
 195   2                      Tm1629_delay(30);
 196   2              }
 197   1      }
 198          
 199          
 200          void Tm1629_delay(unsigned char k) //ÑÓÊ±º¯Êý
 201          {
 202   1              unsigned char i, j;
 203   1              for (; k>0; k--)
 204   1              {
 205   2                      for (i = 255; i>0; i--)
 206   2                      {
 207   3                              for (j = 255; j>0; j--)
 208   3                              {
 209   4                                      ;
 210   4      
 211   4                              }
 212   3                      }
 213   2              }
 214   1      }
 215          
 216          void tm1629_clear(void)//È«²¿¹éÁã
 217          {
 218   1              unsigned char i, j;
 219   1              for (i = 0; i<6; i++)
 220   1              {
 221   2                      for (j = 0; j<8; j++)
 222   2                      {
 223   3                              buf_display[i][j] = 0x00;
 224   3                      }
 225   2              }
 226   1      }
 227          
 228          void tm1629_display_buff_clear(void)//Çå³ý¶ÓÁÐ»º´æ
 229          {
 230   1              unsigned char i;
 231   1              for (i = 0; i<120; i++)
 232   1                      display_ram[i] = 0;
 233   1      }
 234          
 235          void tm1629_await(void)
 236          {
 237   1              unsigned char i;        //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 5   

 238   1              unsigned char await_number_table_temp = 0;
 239   1              await_number_table_temp = return_await_number_table();
 240   1              if (await_number_table_temp == 1)
 241   1              {
 242   2                      //GD5800_select_chapter(0x0008) ;
 243   2                      tm1629_clear();
 244   2                      i = await_time_table & 0x03;
 245   2                      buf_display[0][i] = 0x40;
 246   2                      display();
 247   2                      set_await_number_table(0);
 248   2                      await_time_table++;
 249   2                      if (await_time_table == 4)
 250   2                              await_time_table = 0;
 251   2              }
 252   1      }
 253          
 254          void Display_time(void)
 255          {
 256   1              tm1629_clear();
 257   1              Ds1302_Read_Time(); 
 258   1              buf_display[1][7] = CODE[2];                            //Äê
 259   1              buf_display[1][6] = CODE[0];
 260   1              buf_display[1][5] = CODE[time_buf1[1] / 10];
 261   1              buf_display[1][4] = CODE[time_buf1[1] % 10];
 262   1      
 263   1              
 264   1              buf_display[1][3] = CODE[time_buf1[2] / 10]; //ÔÂ
 265   1              buf_display[1][2] = CODE[time_buf1[2] % 10];
 266   1      
 267   1      
 268   1              buf_display[1][1] = CODE[time_buf1[3] / 10];
 269   1              buf_display[1][0] = CODE[time_buf1[3] % 10];//ÈÕ
 270   1      
 271   1              buf_display[0][7] = CODE[time_buf1[7]];         //ÐÇÆÚ
 272   1      
 273   1              buf_display[0][3] = CODE[time_buf1[4] / 10]; //Ð¡Ê±
 274   1              buf_display[0][2] = CODE[time_buf1[4] % 10];
 275   1              buf_display[0][1] = CODE[time_buf1[5] / 10]; //Ð¡Ê±
 276   1              buf_display[0][0] = CODE[time_buf1[5] % 10];
 277   1      
 278   1              display();
 279   1      
 280   1      }
 281          
 282          void tm1629_f(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 283          {
 284   1              tm1629_clear();
 285   1              buf_display[0][1] = CODE[0x0f];
 286   1              buf_display[0][0] = CODE[f_number];
 287   1              display();
 288   1      }
 289          
 290          void tm1629_E(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 291          {
 292   1              tm1629_clear();
 293   1              buf_display[0][1] = CODE[0x0E];
 294   1              buf_display[0][0] = CODE[f_number];
 295   1              display();
 296   1      }
 297          void Show_on(void)
 298          {
 299   1              tm1629_clear();
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 6   

 300   1              buf_display[0][1] = CODE[0];
 301   1              buf_display[0][0] = 0x37;
 302   1              display();
 303   1      }
 304          
 305          void Show_off(void)
 306          {
 307   1              tm1629_clear();
 308   1              buf_display[0][1] = CODE[0x00];
 309   1              buf_display[0][0] = CODE[0x0f];
 310   1              display();
 311   1      }
 312          
 313          void Show_one_number(unsigned char f_number) //ÏÔÊ¾Ò»¸öÊý×Ö
 314          {
 315   1              tm1629_clear();
 316   1              //buf_display[0][1] = CODE[0x0E];
 317   1              buf_display[0][0] = CODE[f_number];
 318   1              display();
 319   1      }
 320          
 321          void Show_two_number(unsigned char f_number) //ÏÔÊ¾Á½¸öÊý×Ö
 322          {
 323   1              tm1629_clear();
 324   1              buf_display[0][1] = CODE[f_number / 10];
 325   1              buf_display[0][0] = CODE[f_number % 10];
 326   1              display();
 327   1      }
 328          
 329          
 330          void Show_three_number(unsigned int f_number) //ÏÔÊ¾Èý¸öÊý×Ö
 331          {
 332   1              tm1629_clear();
 333   1              buf_display[0][2] = CODE[f_number / 100];
 334   1              buf_display[0][1] = CODE[(f_number / 10) %10];
 335   1              buf_display[0][0] = CODE[f_number % 10];
 336   1              display();
 337   1      }
 338          
 339          void Show_four_number(unsigned char* temp)
 340          {
 341   1              tm1629_clear();
 342   1              buf_display[0][3] = CODE[*(temp)];
 343   1              buf_display[0][2] = CODE[*(temp+1)];
 344   1              buf_display[0][1] = CODE[*(temp+2)];
 345   1              buf_display[0][0] = CODE[*(temp+3)];
 346   1              display();
 347   1      }
 348          
 349          void tm1629_load(void)
 350          {
 351   1              tm1629_clear();
 352   1              if (*(display_ram + 80) != 0)
 353   1                      mcuram_to_displayram(buf_display[5] + 7, display_ram + 80);
 354   1              if (*(display_ram + 72) != 0)
 355   1                      mcuram_to_displayram(buf_display[5] + 3, display_ram + 72);
 356   1              if (*(display_ram + 64) != 0)
 357   1                      mcuram_to_displayram(buf_display[4] + 7, display_ram + 64);
 358   1              if (*(display_ram + 56) != 0)
 359   1                      mcuram_to_displayram(buf_display[4] + 3, display_ram + 56);
 360   1              if (*(display_ram + 48) != 0)
 361   1                      mcuram_to_displayram(buf_display[3] + 7, display_ram + 48);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 7   

 362   1              if (*(display_ram + 40) != 0)
 363   1                      mcuram_to_displayram(buf_display[3] + 3, display_ram + 40);
 364   1              if (*(display_ram + 32) != 0)
 365   1                      mcuram_to_displayram(buf_display[2] + 7, display_ram + 32);
 366   1              if (*(display_ram + 24) != 0)
 367   1                      mcuram_to_displayram(buf_display[2] + 3, display_ram + 24);
 368   1              if (*(display_ram + 16) != 0)
 369   1                      mcuram_to_displayram(buf_display[1] + 7, display_ram + 16);
 370   1              if (*(display_ram + 8) != 0)
 371   1                      mcuram_to_displayram(buf_display[1] + 3, display_ram + 8);
 372   1              if (*(display_ram + 0) != 0)
 373   1                      mcuram_to_displayram(buf_display[0] + 3, display_ram);
 374   1      
 375   1              buf_display[0][5] = CODE[decoder_num / 10];
 376   1              buf_display[0][4] = CODE[decoder_num % 10];
 377   1      }
 378          
 379          void mcuram_to_displayram(unsigned char a[48], unsigned char* b)  //´ÓRAMÇøÓòÒÆµ½ÏÔ´æÇøÓò,Ë³´ø·­Òë³ÉÊýÂë¹Ü
             -ÏÔÊ¾µÄÂë
 380          {
 381   1              /*
 382   1              A// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 383   1              B// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 384   1              */
 385   1              *(a) = CODE[*(b + 1)];
 386   1              *(a - 1) = CODE[*(b + 2)];
 387   1              *(a - 2) = CODE[*(b + 3)];
 388   1              *(a - 3) = CODE[*(b + 4)];
 389   1      
 390   1              switch (*(b + 5) & 0x0f)//ÏÔÊ¾ºô½ÐÀàÐÍ
 391   1              {
 392   2              case 2:
 393   2                      *(a - 3) |= 0x80;
 394   2                      *(a - 2) |= 0x80;
 395   2      
 396   2                      break;//7¼ü
 397   2              case 3:
 398   2                      *(a - 3) |= 0x80;
 399   2                      *(a - 2) |= 0x80;
 400   2                      *(a - 1) |= 0x80;
 401   2                      *(a) |= 0x80;
 402   2                      break;//78¼ü
 403   2              case 4:
 404   2                      *(a - 3) |= 0x80;
 405   2                      *(a - 2) |= 0x80;
 406   2                      *(a - 1) |= 0x80;
 407   2                      break;//6¼ü
 408   2              case 7:
 409   2                      *(a - 2) |= 0x80;
 410   2                      break;//678¼ü
 411   2              case 8:
 412   2                      *(a - 3) |= 0x80;
 413   2                      break;//5¼ü
 414   2              default:break;
 415   2              }
 416   1      
 417   1      
 418   1      }
 419          
 420          void decoder_temp_to_mcuram(unsigned char* a, unsigned char* index)//aÎªMCU»º´æÇø   indexÎª½âÂëºóÈ¡³öµÄ8×Ö
             -½ÚÁÙÊ±Êý×é
 421          {
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 8   

 422   1              *(a + 0) = *(index);
 423   1              *(a + 1) = *(index + 1);
 424   1              *(a + 2) = *(index + 2);
 425   1              *(a + 3) = *(index + 3);
 426   1              *(a + 4) = *(index + 4);
 427   1              *(a + 5) = *(index + 7);//±£´æ°´¼üµÄ¼üÖµ
 428   1      }
 429          
 430          void mcuram_to_mcuram_down(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÏÂÑ¹Ò»×éÊý¾Ý
 431          {
 432   1              *(a + 8) = *(a);                //ramÇøÔªËØÏÂÒÆ6¸ö
 433   1              *(a + 9) = *(a + 1);
 434   1              *(a + 10) = *(a + 2);
 435   1              *(a + 11) = *(a + 3);
 436   1              *(a + 12) = *(a + 4);
 437   1              *(a + 13) = *(a + 5);
 438   1      
 439   1      }
 440          
 441          void mcuram_to_mcuram_up(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÉÏÑ¹Ò»×éÊý¾Ý
 442          {
 443   1              *(a) = *(a + 8);   //ramÇøÔªËØÉÏÒÆ6¸ö
 444   1              *(a + 1) = *(a + 9);
 445   1              *(a + 2) = *(a + 10);
 446   1              *(a + 3) = *(a + 11);
 447   1              *(a + 4) = *(a + 12);
 448   1              *(a + 5) = *(a + 13);
 449   1      }
 450          
 451          void CycleProcess(void)
 452          {
 453   1              unsigned char i, index;
 454   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp;
 455   1              unsigned char temp[8] = { 0 };
 456   1              unsigned char Two_Menu_F6_E3_temp = 0;
 457   1              unsigned char Two_Menu_F6_E1_temp = 0;
 458   1      
 459   1              Two_Menu_F6_E3_temp = return_Two_Menu_F6_E3();
 460   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
 461   1      
 462   1              f5_xunhuan = return_Two_Menu_F5_E1();
 463   1              f4_xiaohao = return_Two_Menu_F4_E1();
 464   1              logout_cycle_table_temp = return_logout_cycle_table();
 465   1              /*Ñ­»·´¦Àíº¯Êý*/
 466   1              if ((f5_xunhuan<f4_xiaohao && logout_cycle_table_temp>f5_xunhuan && f4_xiaohao && f5_xunhuan) || (f4_xiao
             -hao == 0 && f5_xunhuan &&logout_cycle_table_temp>f5_xunhuan))
 467   1              {
 468   2                      for (i = 0; i<10; i++)
 469   2                      {
 470   3                              if (display_ram[i<<3] == 0)
 471   3                              {
 472   4                                      index = i;
 473   4                                      break;
 474   4                              }
 475   3                      }
 476   2      
 477   2                      for (i = 0; i<6; i++)
 478   2                      {
 479   3                              temp[i] = display_ram[((index - 1)<<3) + i];
 480   3                      }
 481   2      
 482   2                      for (i = index; i>1; i--)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 9   

 483   2                      {
 484   3                              mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 485   3                      }
 486   2                      for (i = 0; i<6; i++)
 487   2                      {
 488   3                              display_ram[i] = temp[i];
 489   3                      }
 490   2                      tm1629_load();
 491   2                      display();
 492   2                      set_logout_cycle_table(0);
 493   2                      if (Two_Menu_F6_E3_temp == 1)
 494   2                      {
 495   3                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
 496   3                      }
 497   2              }
 498   1      }
 499          
 500          void LogoutProcess(void)
 501          {
 502   1              unsigned char i;
 503   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp, Two_Menu_F3_E2_temp, Two_Menu_F3_E1_temp;
 504   1              unsigned char Two_Menu_F6_E1_temp = 0;
 505   1              unsigned char Two_Menu_F6_E2_temp = 0;
 506   1      
 507   1              f5_xunhuan = return_Two_Menu_F5_E1();
 508   1              f4_xiaohao = return_Two_Menu_F4_E1();
 509   1              logout_cycle_table_temp = return_logout_cycle_table();
 510   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 511   1              Two_Menu_F3_E1_temp = return_Two_Menu_F3_E1();
 512   1              Two_Menu_F6_E2_temp = return_Two_Menu_F6_E2();
 513   1              /*ÏúºÅ´¦Àíº¯Êý*/
 514   1              if ((f4_xiaohao<f5_xunhuan&& logout_cycle_table_temp>f4_xiaohao && f5_xunhuan && f4_xiaohao) || (f5_xunhu
             -an == 0 && f4_xiaohao && logout_cycle_table_temp>f4_xiaohao))
 515   1              {
 516   2                      for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 517   2                      {
 518   3                              mcuram_to_mcuram_up(display_ram + (i<<3));
 519   3                      }
 520   2                      for (i = ((Two_Menu_F3_E2_temp - 1)<<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 521   2                      {
 522   3                              display_ram[i] = 0;
 523   3                      }
 524   2                      tm1629_load();
 525   2                      display();
 526   2                      set_logout_cycle_table(0);
 527   2                      if (display_ram[0] == 0)
 528   2                      {
 529   3                              set_func_index(MENU_STANDBY);
 530   3                      }
 531   2                      else if (Two_Menu_F3_E1_temp == 2)
 532   2                      {
 533   3                              for (i = 0; i < Two_Menu_F6_E2_temp; i++)
 534   3                              {
 535   4                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
 536   4                              }
 537   3                      }
 538   2              }
 539   1      }
 540          
 541          
 542          
 543          
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 10  

 544          
 545          void Logout(void)
 546          {
 547   1              unsigned int i;
 548   1              unsigned char Two_Menu_F3_E2_temp= 0;
 549   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 550   1              /*ÏúºÅ´¦Àíº¯Êý*/
 551   1              for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 552   1              {
 553   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 554   2              }
 555   1              for (i = ((Two_Menu_F3_E2_temp - 1) <<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 556   1              {
 557   2                      display_ram[i] = 0;
 558   2              }
 559   1              decoder_num--;
 560   1              tm1629_load();
 561   1              display();
 562   1              if (display_ram[0] == 0)
 563   1              {
 564   2                      set_func_index(MENU_STANDBY);
 565   2              }
 566   1      }
 567          
 568          void CycleUp(void)
 569          {
 570   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 571   1              unsigned char temp[6] = { 0 };
 572   1              index = return_Two_Menu_F3_E2();
 573   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 574   1              /*Ñ­»·´¦Àíº¯Êý*/
 575   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 576   1              {
 577   2                      if (display_ram[i<<3] == 0)
 578   2                      {
 579   3                              index = i;
 580   3                              break;
 581   3                      }
 582   2              }
 583   1              for (i = 0; i<6; i++)
 584   1              {
 585   2                      temp[i] = display_ram[i];
 586   2              }
 587   1              for (i = 0; i<index; i++)
 588   1              {
 589   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 590   2              }
 591   1              for (i = 0; i<6; i++)
 592   1              {
 593   2                      display_ram[((index - 1)<<3) + i] = temp[i];
 594   2              }
 595   1              tm1629_load();
 596   1              display();
 597   1      }
 598          
 599          void CycleDown(void)
 600          {
 601   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 602   1              unsigned char temp[6] = { 0 };
 603   1              index = return_Two_Menu_F3_E2();
 604   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 605   1              /*Ñ­»·´¦Àíº¯Êý*/
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 11  

 606   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 607   1              {
 608   2                      if (display_ram[i<<3] == 0)
 609   2                      {
 610   3                              index = i;
 611   3                              break;
 612   3                      }
 613   2              }
 614   1      
 615   1              for (i = 0; i<6; i++)
 616   1              {
 617   2                      temp[i] = display_ram[((index - 1)<<3) + i];
 618   2              }
 619   1      
 620   1              for (i = index; i>1; i--)
 621   1              {
 622   2                      mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 623   2              }
 624   1              for (i = 0; i<6; i++)
 625   1              {
 626   2                      display_ram[i] = temp[i];
 627   2              }
 628   1              tm1629_load();
 629   1              display();
 630   1      }
 631          
 632          void Cancel_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 633          {
 634   1              /*
 635   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 636   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 637   1              */
 638   1      
 639   1              unsigned int i, index, Two_Menu_F3_E2_temp;
 640   1              unsigned char temp[6] = { 0 };
 641   1              index = return_Two_Menu_F3_E2();
 642   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 643   1      
 644   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 645   1              {
 646   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 647   2                      {
 648   3                              decoder_num--;
 649   3                              index = i;
 650   3                              break;
 651   3                      }
 652   2              }
 653   1              if (index == 0)
 654   1              {
 655   2                      GD5800_stop_music();
 656   2              }
 657   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 658   1              {
 659   2                      mcuram_to_mcuram_up(buff + (i << 3));
 660   2              }
 661   1              if (index != Two_Menu_F3_E2_temp)
 662   1              {
 663   2                      for (i = 0; i<6; i++)
 664   2                      {
 665   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 12  

 666   3                      }
 667   2              }
 668   1              if (*(buff) == 0)
 669   1              {
 670   2                      set_func_index(MENU_STANDBY);
 671   2              }
 672   1      }
 673          
 674          void Search_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 675          {
 676   1              /*
 677   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 678   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 679   1              */
 680   1      
 681   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 682   1              unsigned char temp[6] = { 0 };
 683   1              index = return_Two_Menu_F3_E2();
 684   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 685   1      
 686   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 687   1              {
 688   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 689   2                      {
 690   3                              decoder_num--;
 691   3                              index = i;
 692   3                              break;
 693   3                      }
 694   2              }
 695   1      
 696   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 697   1              {
 698   2                      mcuram_to_mcuram_up(buff + (i << 3));
 699   2              }
 700   1              if (index != Two_Menu_F3_E2_temp)
 701   1              {
 702   2                      for (i = 0; i<6; i++)
 703   2                      {
 704   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 705   3                      }
 706   2              }
 707   1      }
 708          
 709          
 710          
 711          void fun0(void) //´ý»úÏÔÊ¾º¯Êý
 712          {
 713   1              unsigned char temp = 0;
 714   1              temp = return_Two_Menu_FC_E1();
 715   1              decoder_num = 0;
 716   1              if (temp == 1)
 717   1              {
 718   2                      P55 = 1;
 719   2                      tm1629_await();
 720   2              }
 721   1              else
 722   1              {
 723   2                      Display_time();
 724   2              }
 725   1              if (return_Two_Menu_Fb_E1() == 1)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 13  

 726   1              {
 727   2                      tm1629_display_buff_clear();
 728   2              }
 729   1              
 730   1      }
 731          
 732          void fun1(void) //Ò»¼¶²Ëµ¥F0
 733          {
 734   1              tm1629_f(0x00);
 735   1      }
 736          
 737          void fun2(void) //Ò»¼¶²Ëµ¥F1
 738          {
 739   1              P55 = 1;
 740   1              tm1629_f(0x01);
 741   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6()== 1)
 742   1              {
 743   2                      GD5800_select_chapter(CUNCHUSHEZHI);
 744   2                      set_sound_table(0);
 745   2              }
 746   1      }
 747          
 748          void fun3(void) //Ò»¼¶²Ëµ¥F2
 749          {
 750   1              tm1629_f(0x02);
 751   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 752   1              {
 753   2                      GD5800_select_chapter_new(SHANGCHUSHEZHI);
 754   2                      set_sound_table(0);
 755   2              }
 756   1      }
 757          
 758          void fun4(void) //Ò»¼¶²Ëµ¥F3
 759          {
 760   1              tm1629_f(0x03);
 761   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 762   1              {
 763   2                      GD5800_select_chapter_new(XIANSHISHEZHI);
 764   2                      set_sound_table(0);
 765   2              }
 766   1      }
 767          
 768          void fun5(void) //Ò»¼¶²Ëµ¥F4
 769          {
 770   1              tm1629_f(0x04);
 771   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 772   1              {
 773   2                      GD5800_select_chapter_new(XIAOHAOSHEZHI);
 774   2                      set_sound_table(0);
 775   2              }
 776   1      }
 777          
 778          void fun6(void) //Ò»¼¶²Ëµ¥F5
 779          {
 780   1              tm1629_f(0x05);
 781   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 782   1              {
 783   2                      GD5800_select_chapter_new(XUNHUANSHEZHI);
 784   2                      set_sound_table(0);
 785   2              }
 786   1      }
 787          
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 14  

 788          void fun7(void) //Ò»¼¶²Ëµ¥F6
 789          {
 790   1              tm1629_f(0x06);
 791   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 792   1              {
 793   2                      GD5800_select_chapter_new(YUYINSHEZHI);
 794   2                      set_sound_table(0);
 795   2              }
 796   1      }
 797          
 798          void fun8(void) //Ò»¼¶²Ëµ¥F7
 799          {
 800   1              tm1629_f(0x07);
 801   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 802   1              {
 803   2                      GD5800_select_chapter_new(JIANPANSHEZHI);
 804   2                      set_sound_table(0);
 805   2              }
 806   1      }
 807          
 808          void fun9(void) //Ò»¼¶²Ëµ¥F8
 809          {
 810   1              tm1629_f(0x08);
 811   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 812   1              {
 813   2                      GD5800_select_chapter_new(ANJIANSHEZHI);
 814   2                      set_sound_table(0);
 815   2              }
 816   1      }
 817          
 818          void fun10(void) //Ò»¼¶²Ëµ¥F9
 819          {
 820   1              tm1629_f(0x09);
 821   1              if(return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 822   1              {
 823   2                      GD5800_select_chapter_new(HUIFUSHEZHI);
 824   2                      set_sound_table(0);
 825   2              }
 826   1      }
 827          
 828          void fun11(void) //Ò»¼¶²Ëµ¥FA
 829          {
 830   1              tm1629_f(0x0a);
 831   1      }
 832          
 833          void fun12(void) //Ò»¼¶²Ëµ¥Fb
 834          {
 835   1              tm1629_f(0x0b);
 836   1      }
 837          
 838          void fun13(void) //Ò»¼¶²Ëµ¥FC
 839          {
 840   1              tm1629_f(0x0c);
 841   1      }
 842          
 843          void fun14(void) //Ò»¼¶²Ëµ¥Fd
 844          {
 845   1              tm1629_f(0x0d);
 846   1              set_fd_table(0);
 847   1              P55 = 1;
 848   1      }
 849          
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 15  

 850          void fun15(void) //ÉèÖÃÄê·Ý
 851          {
 852   1              unsigned char temp;
 853   1              temp = return_Two_Menu_FC_E1();
 854   1              if (temp == 1)//Èç¹ûÎª----  Ôò²»ÈÃ½øÈëF0
 855   1              {
 856   2                      set_func_index(ONE_MENU_F0);
 857   2              }
 858   1              else
 859   1              {
 860   2                      if (return_await_number_table() == 1)
 861   2                      {
 862   3                              Display_time();
 863   3                              set_await_number_table(2);
 864   3                      }
 865   2                      if (return_await_number_table() == 3)
 866   2                      {
 867   3                              buf_display[1][7] = 0;
 868   3                              buf_display[1][6] = 0;
 869   3                              buf_display[1][5] = 0;
 870   3                              buf_display[1][4] = 0;
 871   3                              display();
 872   3                              set_await_number_table(0);
 873   3                      }
 874   2                      Ds1302_Write_Time();
 875   2              }
 876   1      }
 877          
 878          void fun16(void) //ÉèÖÃÔÂ·Ý
 879          {
 880   1              if (return_await_number_table() == 1)
 881   1              {
 882   2                      Display_time();
 883   2                      set_await_number_table(2);
 884   2              }
 885   1              if (return_await_number_table() == 3)
 886   1              {
 887   2                      buf_display[1][3] = 0;
 888   2                      buf_display[1][2] = 0;
 889   2                      display();
 890   2                      set_await_number_table(0);
 891   2              }
 892   1              Ds1302_Write_Time();
 893   1      }
 894          
 895          void fun17(void) //ÉèÖÃÈÕÆÚ
 896          {
 897   1              if (return_await_number_table() == 1)
 898   1              {
 899   2                      Display_time();
 900   2                      set_await_number_table(2);
 901   2              }
 902   1              if (return_await_number_table() == 3)
 903   1              {
 904   2                      buf_display[1][1] = 0;
 905   2                      buf_display[1][0] = 0;
 906   2                      display();
 907   2                      set_await_number_table(0);
 908   2              }
 909   1              Ds1302_Write_Time();
 910   1      }
 911          
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 16  

 912          void fun18(void) //ÉèÖÃÐÇÆÚ
 913          {
 914   1              if (return_await_number_table() == 1)
 915   1              {
 916   2                      Display_time();
 917   2                      set_await_number_table(2);
 918   2              }
 919   1              if (return_await_number_table() == 3)
 920   1              {
 921   2                      buf_display[0][7] = 0;
 922   2                      display();
 923   2                      set_await_number_table(0);
 924   2              }
 925   1              Ds1302_Write_Time();
 926   1      }
 927          
 928          void fun19(void) //ÉèÖÃÐ¡Ê±
 929          {
 930   1              if (return_await_number_table() == 1)
 931   1              {
 932   2                      Display_time();
 933   2                      set_await_number_table(2);
 934   2              }
 935   1              if (return_await_number_table() == 3)
 936   1              {
 937   2                      buf_display[0][3] = 0;
 938   2                      buf_display[0][2] = 0;
 939   2                      display();
 940   2                      set_await_number_table(0);
 941   2              }
 942   1              Ds1302_Write_Time();
 943   1      }
 944          
 945          void fun20(void) //ÉèÖÃ·ÖÖÓ
 946          {
 947   1              if (return_await_number_table() == 1)
 948   1              {
 949   2                      Display_time();
 950   2                      set_await_number_table(2);
 951   2              }
 952   1              if (return_await_number_table() == 3)
 953   1              {
 954   2                      buf_display[0][1] = 0;
 955   2                      buf_display[0][0] = 0;
 956   2                      display();
 957   2                      set_await_number_table(0);
 958   2              }
 959   1              Ds1302_Write_Time();
 960   1      }
 961          
 962          void fun21(void) //¶þ¼¶²Ëµ¥F1-E1
 963          {
 964   1              tm1629_E(0x01);
 965   1              Two_Menu_F1_E1[0] = 0;
 966   1              Two_Menu_F1_E1[1] = 0;
 967   1              Two_Menu_F1_E1[2] = 0;
 968   1              Two_Menu_F1_E1[3] = 1;
 969   1      }
 970          
 971          void fun22(void) //¶þ¼¶²Ëµ¥F1-E2
 972          {
 973   1              tm1629_E(0x02);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 17  

 974   1              Two_Menu_F1_E2[0] = 0;
 975   1              Two_Menu_F1_E2[1] = 0;
 976   1              Two_Menu_F1_E2[2] = 0;
 977   1              Two_Menu_F1_E2[3] = 1;
 978   1      }
 979          
 980          void fun23(void) //¶þ¼¶²Ëµ¥F1-E3
 981          {
 982   1              tm1629_E(0x03);
 983   1              Two_Menu_F1_E3[0] = 0;
 984   1              Two_Menu_F1_E3[1] = 0;
 985   1              Two_Menu_F1_E3[2] = 0;
 986   1              Two_Menu_F1_E3[3] = 1;
 987   1      }
 988          
 989          void fun24(void) //¶þ¼¶²Ëµ¥F1-E4
 990          {
 991   1              tm1629_E(0x04);
 992   1              Two_Menu_F1_E4[0] = 0;
 993   1              Two_Menu_F1_E4[1] = 0;
 994   1              Two_Menu_F1_E4[2] = 0;
 995   1              Two_Menu_F1_E4[3] = 1;
 996   1      }
 997          
 998          void fun25(void) //¶þ¼¶²Ëµ¥F2-E1
 999          {
1000   1              tm1629_E(0x01);
1001   1              Two_Menu_F2_E1[0] = 0;
1002   1              Two_Menu_F2_E1[1] = 0;
1003   1              Two_Menu_F2_E1[2] = 0;
1004   1              Two_Menu_F2_E1[3] = 1;
1005   1      }
1006          
1007          void fun26(void) //¶þ¼¶²Ëµ¥F2-E2
1008          {
1009   1              tm1629_E(0x02);
1010   1              Two_Menu_F2_E2[0] = 0;
1011   1              Two_Menu_F2_E2[1] = 0;
1012   1              Two_Menu_F2_E2[2] = 0;
1013   1              Two_Menu_F2_E2[3] = 1;
1014   1      }
1015          
1016          void fun27(void) //¶þ¼¶²Ëµ¥F2-E3
1017          {
1018   1              tm1629_E(0x03);
1019   1              Two_Menu_F2_E3[0] = 0;
1020   1              Two_Menu_F2_E3[1] = 0;
1021   1              Two_Menu_F2_E3[2] = 0;
1022   1              Two_Menu_F2_E3[3] = 1;
1023   1      }
1024          
1025          void fun28(void) //¶þ¼¶²Ëµ¥F2-E4
1026          {
1027   1              tm1629_E(0x04);
1028   1              Two_Menu_F2_E4[0] = 0;
1029   1              Two_Menu_F2_E4[1] = 0;
1030   1              Two_Menu_F2_E4[2] = 0;
1031   1              Two_Menu_F2_E4[3] = 1;
1032   1      }
1033          
1034          void fun29(void) //¶þ¼¶²Ëµ¥F3-E1
1035          {
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 18  

1036   1              tm1629_E(0x01);
1037   1      }
1038          
1039          void fun30(void) //¶þ¼¶²Ëµ¥F3-E2
1040          {
1041   1              tm1629_E(0x02);
1042   1      }
1043          
1044          void fun31(void) //¶þ¼¶²Ëµ¥F4
1045          {
1046   1              unsigned char temp = 0;
1047   1              temp = return_Two_Menu_F4_E1();
1048   1              Show_two_number(temp);
1049   1      }
1050          
1051          void fun32(void) //¶þ¼¶²Ëµ¥F5
1052          {
1053   1              unsigned char temp = 0;
1054   1              temp = return_Two_Menu_F5_E1();
1055   1              Show_two_number(temp);
1056   1      }
1057          
1058          void fun33(void) //¶þ¼¶²Ëµ¥F6-E1
1059          {
1060   1              tm1629_E(0x01);
1061   1      }
1062          
1063          void fun34(void) //¶þ¼¶²Ëµ¥F6-E2
1064          {
1065   1              tm1629_E(0x02);
1066   1      }
1067          
1068          void fun35(void) //¶þ¼¶²Ëµ¥F6-E3
1069          {
1070   1              tm1629_E(0x03);
1071   1      }
1072          
1073          void fun36(void) //¶þ¼¶²Ëµ¥F6-E4
1074          {
1075   1              tm1629_E(0x04);
1076   1      }
1077          
1078          void fun37(void) //¶þ¼¶²Ëµ¥F6-E5
1079          {
1080   1              tm1629_E(0x05);
1081   1      }
1082          
1083          void fun38(void) //¶þ¼¶²Ëµ¥F7-E1
1084          {
1085   1              tm1629_E(0x01);
1086   1      }
1087          
1088          void fun39(void) //¶þ¼¶²Ëµ¥F7-E2
1089          {
1090   1              tm1629_E(0x02);
1091   1      }
1092          
1093          void fun40(void) //¶þ¼¶²Ëµ¥F7-E3
1094          {
1095   1              tm1629_E(0x03);
1096   1      }
1097          
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 19  

1098          void fun41(void) //¶þ¼¶²Ëµ¥F7-E4
1099          {
1100   1              tm1629_E(0x04);
1101   1      }
1102          
1103          void fun42(void) //¶þ¼¶²Ëµ¥F8-E1
1104          {
1105   1              tm1629_E(0x01);
1106   1              Two_Menu_F8_E1_save = return_Two_Menu_F8_E1();
1107   1      }
1108          
1109          void fun43(void) //¶þ¼¶²Ëµ¥F8-E2
1110          {
1111   1              tm1629_E(0x02);
1112   1      }
1113          
1114          void fun44(void) //¶þ¼¶²Ëµ¥F9-E1
1115          {
1116   1              tm1629_E(0x01);
1117   1      }
1118          
1119          void fun45(void) //¶þ¼¶²Ëµ¥F9-E2
1120          {
1121   1              tm1629_E(0x02);
1122   1      }
1123          
1124          void fun46(void) //¶þ¼¶²Ëµ¥FA
1125          {
1126   1              unsigned int measure_sync_saved_temp = 0;
1127   1              unsigned int show_temp = 0;
1128   1      
1129   1                      measure_sync_saved_temp = return_RF_trans_count();
1130   1                      show_temp = 10000 / measure_sync_saved_temp;
1131   1                      Show_three_number(show_temp);
1132   1      
1133   1      //              uart_printf("measure_sync_saved_tempÎª %d ! \n\r", measure_sync_saved_temp);
1134   1      //              uart_printf("show_tempÎª %d ! \n\r", show_temp);
1135   1      
1136   1      }
1137          
1138          
1139          void fun47(void) //¶þ¼¶²Ëµ¥Fb
1140          {
1141   1              unsigned char temp = 0;
1142   1              temp = return_Two_Menu_Fb_E1();
1143   1              Show_one_number(temp);
1144   1      }
1145          
1146          void fun48(void) //¶þ¼¶²Ëµ¥FC
1147          {
1148   1              unsigned char temp = 0;
1149   1              temp = return_Two_Menu_FC_E1();
1150   1              Show_one_number(temp);
1151   1      }
1152          
1153          void fun49(void) //¶þ¼¶²Ëµ¥Fd
1154          {
1155   1              unsigned char temp;
1156   1              temp = return_fd_table();
1157   1              if (temp <= 20)
1158   1              {
1159   2                      if (temp < 4)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 20  

1160   2                      {
1161   3                              display_light(0xff);
1162   3                      }
1163   2                      else if (temp <= 18)
1164   2                      {
1165   3                              display_light(INIT_CODE[temp / 2 - 2]);
1166   3                      }
1167   2                      else
1168   2                      {
1169   3                              display_light(0xff);
1170   3                      }
1171   2                      if (P24 == 1)
1172   2                      {
1173   3                              GD5800_select_chapter(YINGYUEYI);
1174   3                      }
1175   2              }
1176   1              if (temp >20)
1177   1              {
1178   2                      tm1629_clear();
1179   2                      display();
1180   2              }
1181   1              P55 = 0;
1182   1      }
1183          
1184          void fun50(void) //F1_E1 Ç§Î»ÉÁË¸
1185          {
1186   1              if (return_await_number_table() == 1)
1187   1              {
1188   2                      Show_four_number(Two_Menu_F1_E1);
1189   2                      set_await_number_table(2);
1190   2              }
1191   1              if (return_await_number_table() == 3)
1192   1              {
1193   2                      buf_display[0][3] = 0;
1194   2                      display();
1195   2                      set_await_number_table(0);
1196   2              }
1197   1      }
1198          
1199          void fun51(void) //F1_E1 °ÙÎ»ÉÁË¸
1200          {
1201   1              if (return_await_number_table() == 1)
1202   1              {
1203   2                      Show_four_number(Two_Menu_F1_E1);
1204   2                      set_await_number_table(2);
1205   2              }
1206   1              if (return_await_number_table() == 3)
1207   1              {
1208   2                      buf_display[0][2] = 0;
1209   2                      display();
1210   2                      set_await_number_table(0);
1211   2              }
1212   1      }
1213          
1214          void fun52(void)  //F1_E1 Ê®Î»ÉÁË¸
1215          {
1216   1              if (return_await_number_table() == 1)
1217   1              {
1218   2                      Show_four_number(Two_Menu_F1_E1);
1219   2                      set_await_number_table(2);
1220   2              }
1221   1              if (return_await_number_table() == 3)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 21  

1222   1              {
1223   2                      buf_display[0][1] = 0;
1224   2                      display();
1225   2                      set_await_number_table(0);
1226   2              }
1227   1      }
1228          
1229          void fun53(void) //F1_E1 ¸öÎ»ÉÁË¸
1230          {
1231   1              if (return_await_number_table() == 1)
1232   1              {
1233   2                      Show_four_number(Two_Menu_F1_E1);
1234   2                      set_await_number_table(2);
1235   2              }
1236   1              if (return_await_number_table() == 3)
1237   1              {
1238   2                      buf_display[0][0] = 0;
1239   2                      display();
1240   2                      set_await_number_table(0);
1241   2              }
1242   1      }
1243          
1244          void fun54(void) //F1_E2 Ç§Î»ÉÁË¸
1245          {
1246   1              if (return_await_number_table() == 1)
1247   1              {
1248   2                      Show_four_number(Two_Menu_F1_E2);
1249   2                      set_await_number_table(2);
1250   2              }
1251   1              if (return_await_number_table() == 3)
1252   1              {
1253   2                      buf_display[0][3] = 0;
1254   2                      display();
1255   2                      set_await_number_table(0);
1256   2              }
1257   1      }
1258          
1259          void fun55(void) //F1_E2 °ÙÎ»ÉÁË¸
1260          {
1261   1              if (return_await_number_table() == 1)
1262   1              {
1263   2                      Show_four_number(Two_Menu_F1_E2);
1264   2                      set_await_number_table(2);
1265   2              }
1266   1              if (return_await_number_table() == 3)
1267   1              {
1268   2                      buf_display[0][2] = 0;
1269   2                      display();
1270   2                      set_await_number_table(0);
1271   2              }
1272   1      }
1273          
1274          void fun56(void) //F1_E2 Ê®Î»ÉÁË¸
1275          {
1276   1              if (return_await_number_table() == 1)
1277   1              {
1278   2                      Show_four_number(Two_Menu_F1_E2);
1279   2                      set_await_number_table(2);
1280   2              }
1281   1              if (return_await_number_table() == 3)
1282   1              {
1283   2                      buf_display[0][1] = 0;
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 22  

1284   2                      display();
1285   2                      set_await_number_table(0);
1286   2              }
1287   1      }
1288          
1289          void fun57(void) //F1_E2 ¸öÎ»ÉÁË¸
1290          {
1291   1              if (return_await_number_table() == 1)
1292   1              {
1293   2                      Show_four_number(Two_Menu_F1_E2);
1294   2                      set_await_number_table(2);
1295   2              }
1296   1              if (return_await_number_table() == 3)
1297   1              {
1298   2                      buf_display[0][0] = 0;
1299   2                      display();
1300   2                      set_await_number_table(0);
1301   2              }
1302   1      }
1303          
1304          void fun58(void) //F1_E3 Ç§Î»ÉÁË¸
1305          {
1306   1              if (return_await_number_table() == 1)
1307   1              {
1308   2                      Show_four_number(Two_Menu_F1_E3);
1309   2                      set_await_number_table(2);
1310   2              }
1311   1              if (return_await_number_table() == 3)
1312   1              {
1313   2                      buf_display[0][3] = 0;
1314   2                      display();
1315   2                      set_await_number_table(0);
1316   2              }
1317   1      }
1318          
1319          void fun59(void) //F1_E3 °ÙÎ»ÉÁË¸
1320          {
1321   1              if (return_await_number_table() == 1)
1322   1              {
1323   2                      Show_four_number(Two_Menu_F1_E3);
1324   2                      set_await_number_table(2);
1325   2              }
1326   1              if (return_await_number_table() == 3)
1327   1              {
1328   2                      buf_display[0][2] = 0;
1329   2                      display();
1330   2                      set_await_number_table(0);
1331   2              }
1332   1      }
1333          
1334          void fun60(void) //F1_E3 Ê®Î»ÉÁË¸
1335          {
1336   1              if (return_await_number_table() == 1)
1337   1              {
1338   2                      Show_four_number(Two_Menu_F1_E3);
1339   2                      set_await_number_table(2);
1340   2              }
1341   1              if (return_await_number_table() == 3)
1342   1              {
1343   2                      buf_display[0][1] = 0;
1344   2                      display();
1345   2                      set_await_number_table(0);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 23  

1346   2              }
1347   1      }
1348          
1349          void fun61(void) //F1_E3 ¸öÎ»ÉÁË¸
1350          {
1351   1              if (return_await_number_table() == 1)
1352   1              {
1353   2                      Show_four_number(Two_Menu_F1_E3);
1354   2                      set_await_number_table(2);
1355   2              }
1356   1              if (return_await_number_table() == 3)
1357   1              {
1358   2                      buf_display[0][0] = 0;
1359   2                      display();
1360   2                      set_await_number_table(0);
1361   2              }
1362   1      }
1363          
1364          void fun62(void) //F1_E4 Ç§Î»ÉÁË¸
1365          {
1366   1              if (return_await_number_table() == 1)
1367   1              {
1368   2                      Show_four_number(Two_Menu_F1_E4);
1369   2                      set_await_number_table(2);
1370   2              }
1371   1              if (return_await_number_table() == 3)
1372   1              {
1373   2                      buf_display[0][3] = 0;
1374   2                      display();
1375   2                      set_await_number_table(0);
1376   2              }
1377   1      }
1378          
1379          void fun63(void) //F1_E4 °ÙÎ»ÉÁË¸
1380          {
1381   1              if (return_await_number_table() == 1)
1382   1              {
1383   2                      Show_four_number(Two_Menu_F1_E4);
1384   2                      set_await_number_table(2);
1385   2              }
1386   1              if (return_await_number_table() == 3)
1387   1              {
1388   2                      buf_display[0][2] = 0;
1389   2                      display();
1390   2                      set_await_number_table(0);
1391   2              }
1392   1      }
1393          
1394          void fun64(void) //F1_E4 Ê®Î»ÉÁË¸
1395          {
1396   1              if (return_await_number_table() == 1)
1397   1              {
1398   2                      Show_four_number(Two_Menu_F1_E4);
1399   2                      set_await_number_table(2);
1400   2              }
1401   1              if (return_await_number_table() == 3)
1402   1              {
1403   2                      buf_display[0][1] = 0;
1404   2                      display();
1405   2                      set_await_number_table(0);
1406   2              }
1407   1      }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 24  

1408          
1409          void fun65(void) //F1_E4 ¸öÎ»ÉÁË¸
1410          {
1411   1              if (return_await_number_table() == 1)
1412   1              {
1413   2                      Show_four_number(Two_Menu_F1_E4);
1414   2                      set_await_number_table(2);
1415   2              }
1416   1              if (return_await_number_table() == 3)
1417   1              {
1418   2                      buf_display[0][0] = 0;
1419   2                      display();
1420   2                      set_await_number_table(0);
1421   2              }
1422   1      }
1423          
1424          void fun66(void) //F2_E1 Ç§Î»ÉÁË¸
1425          {
1426   1              if (return_await_number_table() == 1)
1427   1              {
1428   2                      Show_four_number(Two_Menu_F2_E1);
1429   2                      set_await_number_table(2);
1430   2              }
1431   1              if (return_await_number_table() == 3)
1432   1              {
1433   2                      buf_display[0][3] = 0;
1434   2                      display();
1435   2                      set_await_number_table(0);
1436   2              }
1437   1      }
1438          
1439          void fun67(void) //F2_E1 °ÙÎ»ÉÁË¸
1440          {
1441   1              if (return_await_number_table() == 1)
1442   1              {
1443   2                      Show_four_number(Two_Menu_F2_E1);
1444   2                      set_await_number_table(2);
1445   2              }
1446   1              if (return_await_number_table() == 3)
1447   1              {
1448   2                      buf_display[0][2] = 0;
1449   2                      display();
1450   2                      set_await_number_table(0);
1451   2              }
1452   1      }
1453          
1454          void fun68(void) //F2_E1 Ê®Î»ÉÁË¸
1455          {
1456   1              if (return_await_number_table() == 1)
1457   1              {
1458   2                      Show_four_number(Two_Menu_F2_E1);
1459   2                      set_await_number_table(2);
1460   2              }
1461   1              if (return_await_number_table() == 3)
1462   1              {
1463   2                      buf_display[0][1] = 0;
1464   2                      display();
1465   2                      set_await_number_table(0);
1466   2              }
1467   1      }
1468          
1469          void fun69(void) //F2_E1 ¸öÎ»ÉÁË¸
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 25  

1470          {
1471   1              if (return_await_number_table() == 1)
1472   1              {
1473   2                      Show_four_number(Two_Menu_F2_E1);
1474   2                      set_await_number_table(2);
1475   2              }
1476   1              if (return_await_number_table() == 3)
1477   1              {
1478   2                      buf_display[0][0] = 0;
1479   2                      display();
1480   2                      set_await_number_table(0);
1481   2              }
1482   1      }
1483          
1484          void fun70(void) //F2_E2 Ç§Î»ÉÁË¸
1485          {
1486   1              if (return_await_number_table() == 1)
1487   1              {
1488   2                      Show_four_number(Two_Menu_F2_E2);
1489   2                      set_await_number_table(2);
1490   2              }
1491   1              if (return_await_number_table() == 3)
1492   1              {
1493   2                      buf_display[0][3] = 0;
1494   2                      display();
1495   2                      set_await_number_table(0);
1496   2              }
1497   1      }
1498          
1499          void fun71(void) //F2_E2 °ÙÎ»ÉÁË¸
1500          {
1501   1              if (return_await_number_table() == 1)
1502   1              {
1503   2                      Show_four_number(Two_Menu_F2_E2);
1504   2                      set_await_number_table(2);
1505   2              }
1506   1              if (return_await_number_table() == 3)
1507   1              {
1508   2                      buf_display[0][2] = 0;
1509   2                      display();
1510   2                      set_await_number_table(0);
1511   2              }
1512   1      }
1513          
1514          void fun72(void) //F2_E2 Ê®Î»ÉÁË¸
1515          {
1516   1              if (return_await_number_table() == 1)
1517   1              {
1518   2                      Show_four_number(Two_Menu_F2_E2);
1519   2                      set_await_number_table(2);
1520   2              }
1521   1              if (return_await_number_table() == 3)
1522   1              {
1523   2                      buf_display[0][1] = 0;
1524   2                      display();
1525   2                      set_await_number_table(0);
1526   2              }
1527   1      }
1528          
1529          void fun73(void) //F2_E2 ¸öÎ»ÉÁË¸
1530          {
1531   1              if (return_await_number_table() == 1)
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 26  

1532   1              {
1533   2                      Show_four_number(Two_Menu_F2_E2);
1534   2                      set_await_number_table(2);
1535   2              }
1536   1              if (return_await_number_table() == 3)
1537   1              {
1538   2                      buf_display[0][0] = 0;
1539   2                      display();
1540   2                      set_await_number_table(0);
1541   2              }
1542   1      }
1543          
1544          void fun74(void) //F2_E3 Ç§Î»ÉÁË¸
1545          {
1546   1              if (return_await_number_table() == 1)
1547   1              {
1548   2                      Show_four_number(Two_Menu_F2_E3);
1549   2                      set_await_number_table(2);
1550   2              }
1551   1              if (return_await_number_table() == 3)
1552   1              {
1553   2                      buf_display[0][3] = 0;
1554   2                      display();
1555   2                      set_await_number_table(0);
1556   2              }
1557   1      }
1558          
1559          void fun75(void) //F2_E3 °ÙÎ»ÉÁË¸
1560          {
1561   1              if (return_await_number_table() == 1)
1562   1              {
1563   2                      Show_four_number(Two_Menu_F2_E3);
1564   2                      set_await_number_table(2);
1565   2              }
1566   1              if (return_await_number_table() == 3)
1567   1              {
1568   2                      buf_display[0][2] = 0;
1569   2                      display();
1570   2                      set_await_number_table(0);
1571   2              }
1572   1      }
1573          
1574          void fun76(void) //F2_E3 Ê®Î»ÉÁË¸
1575          {
1576   1              if (return_await_number_table() == 1)
1577   1              {
1578   2                      Show_four_number(Two_Menu_F2_E3);
1579   2                      set_await_number_table(2);
1580   2              }
1581   1              if (return_await_number_table() == 3)
1582   1              {
1583   2                      buf_display[0][1] = 0;
1584   2                      display();
1585   2                      set_await_number_table(0);
1586   2              }
1587   1      }
1588          
1589          void fun77(void) //F2_E3 ¸öÎ»ÉÁË¸
1590          {
1591   1              if (return_await_number_table() == 1)
1592   1              {
1593   2                      Show_four_number(Two_Menu_F2_E3);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 27  

1594   2                      set_await_number_table(2);
1595   2              }
1596   1              if (return_await_number_table() == 3)
1597   1              {
1598   2                      buf_display[0][0] = 0;
1599   2                      display();
1600   2                      set_await_number_table(0);
1601   2              }
1602   1      }
1603          
1604          void fun78(void) //F2_E4 Ç§Î»ÉÁË¸
1605          {
1606   1              if (return_await_number_table() == 1)
1607   1              {
1608   2                      Show_four_number(Two_Menu_F2_E4);
1609   2                      set_await_number_table(2);
1610   2              }
1611   1              if (return_await_number_table() == 3)
1612   1              {
1613   2                      buf_display[0][3] = 0;
1614   2                      display();
1615   2                      set_await_number_table(0);
1616   2              }
1617   1      }
1618          
1619          void fun79(void) //F2_E4 °ÙÎ»ÉÁË¸
1620          {
1621   1              if (return_await_number_table() == 1)
1622   1              {
1623   2                      Show_four_number(Two_Menu_F2_E4);
1624   2                      set_await_number_table(2);
1625   2              }
1626   1              if (return_await_number_table() == 3)
1627   1              {
1628   2                      buf_display[0][2] = 0;
1629   2                      display();
1630   2                      set_await_number_table(0);
1631   2              }
1632   1      }
1633          
1634          void fun80(void) //F2_E4 Ê®Î»ÉÁË¸
1635          {
1636   1              if (return_await_number_table() == 1)
1637   1              {
1638   2                      Show_four_number(Two_Menu_F2_E4);
1639   2                      set_await_number_table(2);
1640   2              }
1641   1              if (return_await_number_table() == 3)
1642   1              {
1643   2                      buf_display[0][1] = 0;
1644   2                      display();
1645   2                      set_await_number_table(0);
1646   2              }
1647   1      }
1648          
1649          void fun81(void) //F2_E4 ¸öÎ»ÉÁË¸
1650          {
1651   1              if (return_await_number_table() == 1)
1652   1              {
1653   2                      Show_four_number(Two_Menu_F2_E4);
1654   2                      set_await_number_table(2);
1655   2              }
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 28  

1656   1              if (return_await_number_table() == 3)
1657   1              {
1658   2                      buf_display[0][0] = 0;
1659   2                      display();
1660   2                      set_await_number_table(0);
1661   2              }
1662   1      }
1663          
1664          void fun82(void) //ÏÔÊ¾¼´Ê±ÏÔÊ¾ »¹ÊÇÑ­»·ÏÔÊ¾
1665          {
1666   1              unsigned char temp=0;
1667   1              temp = return_Two_Menu_F3_E1();
1668   1              Show_one_number(temp);
1669   1      }
1670          
1671          void fun83(void) //¶ÓÁÐ´æ´¢¸öÊý
1672          {
1673   1              unsigned char temp = 0;
1674   1              temp = return_Two_Menu_F3_E2();
1675   1              Show_two_number(temp);
1676   1      }
1677          
1678          void fun84(void) //F6_E1ÓïÒôÑ¡Ôñ
1679          {
1680   1              unsigned char temp = 0;
1681   1              temp = return_Two_Menu_F6_E1();
1682   1              Show_one_number(temp);
1683   1      }
1684          
1685          void fun85(void) //F6_E2ÓïÒô±¨¶Á´ÎÊý
1686          {
1687   1              unsigned char temp = 0;
1688   1              temp = return_Two_Menu_F6_E2();
1689   1              Show_one_number(temp);
1690   1      }
1691          
1692          void fun86(void) //F6_E3Ñ­»·Ê±ºòÊÇ·ñ±¨¶Á
1693          {
1694   1              unsigned char temp = 0;
1695   1              temp = return_Two_Menu_F6_E3();
1696   1              Show_one_number(temp);
1697   1      }
1698          
1699          void fun87(void) //F6_E4ÒôÁ¿´óÐ¡µ÷Õû
1700          {
1701   1              unsigned char temp = 0;
1702   1              temp = return_Two_Menu_F6_E4();
1703   1              GD5800_sound_volume(temp * 3);
1704   1              Show_one_number(temp);
1705   1      }
1706          
1707          void fun88(void) //F6_E5ÆÁÄ»ÁÁ¶Èµ÷Õû
1708          {
1709   1              unsigned char temp = 0;
1710   1              temp = return_Two_Menu_F6_E5();
1711   1              Show_one_number(temp);
1712   1      }
1713          
1714          void fun89(void) //F7_E1 999*9
1715          {
1716   1              unsigned char temp = 0;
1717   1              temp = return_Two_Menu_F7_E1();
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 29  

1718   1              if (temp < 10)
1719   1              {
1720   2                      Show_one_number(temp);
1721   2              }
1722   1              else
1723   1              {
1724   2                      Show_off();
1725   2              }
1726   1      }
1727          
1728          void fun90(void) //F7_E2 9999*9
1729          {
1730   1              unsigned char temp = 0;
1731   1              temp = return_Two_Menu_F7_E2();
1732   1              Show_one_number(temp);
1733   1      }
1734          
1735          void fun91(void) //F7_E3 999*99
1736          {
1737   1              unsigned char temp = 0;
1738   1              temp = return_Two_Menu_F7_E3();
1739   1              Show_one_number(temp);
1740   1      }
1741          
1742          void fun92(void) //F7_E4 9999*99
1743          {
1744   1              unsigned char temp = 0;
1745   1              temp = return_Two_Menu_F7_E4();
1746   1              Show_one_number(temp);
1747   1      }
1748          
1749          void fun93(void) //F8_E1µ¥¼üÎ»¸ú¶à¼üÎ»ÇÐ»»
1750          {
1751   1              unsigned char temp = 0;
1752   1              temp = return_Two_Menu_F8_E1();
1753   1              Show_one_number(temp);
1754   1              if (temp != Two_Menu_F8_E1_save)
1755   1              {
1756   2                      Delete_all_data();
1757   2                      Two_Menu_F8_E1_save = temp;
1758   2                      if (return_sound_table() == 1)
1759   2                      {
1760   3                              GD5800_select_chapter(CHENGGONG);
1761   3      
1762   3                              set_sound_table(0);
1763   3                      }
1764   2              }
1765   1      }
1766          
1767          void fun94(void) //F8_E2¼üÎ»ÉèÖÃ
1768          {
1769   1              unsigned char temp = 0;
1770   1              temp = return_Two_Menu_F8_E2();
1771   1              Show_two_number(temp);
1772   1              if (return_sound_table() == 1 )
1773   1              {
1774   2                      GD5800_select_chapter_new(temp + QUXIAO);
1775   2              }
1776   1              if (return_Two_menu_set_success() == 1)
1777   1              {
1778   2                      GD5800_select_chapter_new(CHENGGONG);
1779   2                      set_Two_menu_set_success(0);
C51 COMPILER V9.00   TM1629                                                                11/07/2015 09:59:58 PAGE 30  

1780   2              }
1781   1      }
1782          
1783          void fun95(void) //½âÂë²Ëµ¥
1784          {
1785   1              unsigned char Two_Menu_F6_E1_temp = 0;
1786   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
1787   1              //tm1629_load();
1788   1              //display();
1789   1      
1790   1              if (  display_ram[0] == BAOJING_1)
1791   1              {
1792   2                      if (P24 == 1)
1793   2                      {
1794   3                              GD5800_select_chapter(BAOJING);
1795   3                      }       
1796   2              }
1797   1              P55 = 1;//ÃëÕëÃð
1798   1              
1799   1      }
1800          
1801          void fun96(void) //¶þ¼¶²Ëµ¥F6-E6
1802          {
1803   1              tm1629_E(0x06);
1804   1      }
1805          
1806          void fun97(void) //¶þ¼¶²Ëµ¥F6-E6
1807          {
1808   1              unsigned char temp = 0;
1809   1              temp = return_Two_Menu_F6_E6();
1810   1              Show_one_number(temp);
1811   1      }
1812          
1813          void fun98(void) //¶þ¼¶²Ëµ¥F6-E7
1814          {
1815   1              tm1629_E(0x07);
1816   1      }
1817          
1818          void fun99(void) //¶þ¼¶²Ëµ¥F6-E7
1819          {
1820   1              unsigned char temp = 0;
1821   1              temp = return_Two_Menu_F6_E7();
1822   1              Show_one_number(temp);
1823   1      }
1824          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   7094    ----
   CONSTANT SIZE    =     32    ----
   XDATA SIZE       =    913      87
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
