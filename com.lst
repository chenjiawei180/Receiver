C51 COMPILER V9.00   COM                                                                   10/16/2015 14:12:17 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE COM
OBJECT MODULE PLACED IN com.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Receiver\com.c LARGE BROWSE INCDIR(.\Receiver) DEBUG OBJECTEXTEND PRINT(.\c
                    -om.lst) OBJECT(com.obj)

line level    source

   1          #include "com.h"
   2          #include "ds1302.h"
   3          #include "usart.h"
   4          
   5          void mcu_to_computer(unsigned char call_type, unsigned char* number,unsigned char key_type)
   6          {
   7   1              unsigned char temp1=0,temp2=0;
   8   1      
   9   1              unsigned char sec = 0, hour = 0, min = 0;
  10   1              Ds1302_Read_Time();
  11   1      
  12   1              Usart1_SendData(0xaa);
  13   1              Usart1_SendData(0x42);
  14   1              Usart1_SendData(0x01);
  15   1              Usart1_SendData(0x01);
  16   1              Usart1_SendData(0x01);
  17   1              Usart1_SendData(call_type);//呼叫或者取消  91 92
  18   1              Usart1_SendData(0xff);
  19   1      
  20   1              temp1 = *(number+1) << 4 | *(number + 2);
  21   1              temp2 = *(number+3) << 4 | *(number + 4);
  22   1              Usart1_SendData(temp1);//号码
  23   1              Usart1_SendData(temp2);//号码
  24   1      
  25   1              Usart1_SendData(key_type);//键值
  26   1      
  27   1              Usart1_SendData(0);
  28   1              Usart1_SendData(0);
  29   1      
  30   1              hour  =  (time_buf1[4] / 10) * 6 + time_buf1[4];
  31   1              min =  (time_buf1[5] / 10) * 6 + time_buf1[5];
  32   1              sec  =  (time_buf1[6] / 10) * 6 + time_buf1[6];
  33   1      
  34   1              Usart1_SendData(hour);
  35   1              Usart1_SendData(min);
  36   1              Usart1_SendData(sec);
  37   1      
  38   1              Usart1_SendData(0x1EE + call_type + temp1 + temp2 + key_type + hour + min + sec);//校验
  39   1      
  40   1      
  41   1              Usart1_SendData(0x55);
  42   1      }
  43          
  44          
  45          
  46          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    280    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----      10
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.00   COM                                                                   10/16/2015 14:12:17 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
